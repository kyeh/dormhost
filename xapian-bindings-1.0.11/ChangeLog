Sun Mar 15 10:34:09 GMT 2009  Olly Betts <olly@survex.com>

	* NEWS,configure.ac: Update for 1.0.11.

Wed Mar 11 01:25:28 GMT 2009  Olly Betts <olly@survex.com>

	* NEWS: Update from ChangeLog.

Wed Mar 11 01:07:20 GMT 2009  Olly Betts <olly@survex.com>

	* python/pythontest.py: Test that either of ascending=True and
	  reverse=True is accepted.

Wed Mar 11 01:05:23 GMT 2009  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* python/extra.i: Add support for the old name ("ascending") for the
	  second argument of set_sort_by_key() and set_sort_by_value() and
	  friends.

Wed Mar 11 00:48:04 GMT 2009  Olly Betts <olly@survex.com>

	* Backport changes from trunk:
	* python/extra.i: When ValueRangeProcessors are passed to the
	  QueryParser, keep a list of them so that they're not deleted
	  until the QueryParser is.
	* python/pythontest.py: Regression test that the proxying works -
	  this test crashed without the patch to extra.i.
	* python/pythontest.py: Fix comment typo.
	* python/extra.i: Keep references to Stoppers and Sorters set on
	  objects, to avoid segfaults when they go out of scope.
	* python/pythontest.py: Tests for the above.

Fri Mar 06 04:11:11 GMT 2009  Olly Betts <olly@survex.com>

	* README: Note that 1.0.x probably won't support Python 3, and
	  current issues with Ruby 1.9.

Fri Mar 06 03:51:35 GMT 2009  Olly Betts <olly@survex.com>

	* NEWS: Update from ChangeLog.

Fri Mar 06 03:44:45 GMT 2009  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Apply rejected hunk I missed in backported
	  patch.

Thu Mar 05 23:19:49 GMT 2009  Olly Betts <olly@survex.com>

	* python/pythontest.py: Fix up previous backported change to this
	  file.

Thu Mar 05 14:22:07 GMT 2009  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* configure.ac: Fix comment to match code.

Thu Mar 05 14:14:38 GMT 2009  Olly Betts <olly@survex.com>

	* Backport changes from trunk:
	* configure.ac,ruby/Makefile.am: Fixes for Ruby 1.9 compatibility
	  (bug#323).
	* configure.ac,ruby/Makefile.am: Workaround rubyio.h vs ruby/io.h
	  incompatibility.  Fix defaulting of RUBY_INC_ARCH to RUBY_INC.

Thu Mar 05 14:08:16 GMT 2009  Olly Betts <olly@survex.com>

	* Backport changes from trunk:
	* configure.ac: Use rubyhdrdir if it exists (it was added at some
	  point during Ruby 1.9 development).  See bug#323.
	* ruby/util.i: Fix for Ruby 1.9 compatibility.

Thu Mar 05 13:57:19 GMT 2009  Olly Betts <olly@survex.com>

	* Backport changes from trunk:
	* python/pythontest.py: All but two testcases delete the database(s)
	  they create if they pass, so fix the remaining two to do the same.
	* python/Makefile.am: Clean up any left over test databases on "make
	  clean".

Thu Mar 05 13:50:32 GMT 2009  Olly Betts <olly@survex.com>

	* Backport changes from trunk:
	* configure.ac,tcl8/Makefile.am: Allow tcl8 bindings to be built on
	  Cygwin (based on patch 1.0.7-tcl.patch from Cygwin Ports).
	* configure.ac,ruby/Makefile.am: Allow ruby bindings to be built on
	  Cygwin (need to pass -lruby there).
	* configure.ac: Allow PHP bindings to be built on Cygwin (patch
	  1.0.7-php.patch from Cygwin Ports).
	* csharp/Makefile.am: Rename the compiled C++ wrapper from
	  XapianSharp.la to _XapianSharp.la to avoid a name clash on with the
	  C# assembly XapianSharp.dll on Microsoft Windows.
	* configure.ac: Allow Python buildings to be built on Cygwin (taken
	  from patch 1.0.7-python.patch from Cygwin Ports, and adapted for
	  Python 3.0 compatibility).

Thu Mar 05 13:13:04 GMT 2009  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* python/docs/examples/: get_description() is now __str__() in Python.

Tue Dec 23 07:24:20 GMT 2008  Olly Betts <olly@survex.com>

	* NEWS,configure.ac: Update for 1.0.10.

Mon Dec 08 04:04:04 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* python/Makefile.am: Need to clean testsuite.pyc from srcdir since
	  that's where it gets generated as things stand (upstream fix for
	  Debian bug 506090).

Fri Oct 31 22:58:05 GMT 2008  Olly Betts <olly@survex.com>

	* NEWS: Update with last-minute backported change for 1.0.9.

Fri Oct 31 22:55:05 GMT 2008  Olly Betts <olly@survex.com>

	* Backport changes from trunk:
	* python/extra.i,xapian.i: Add support for
	  Database.metadata_keys_begin() and Database.metadata_keys_end().
	  For python, these are wrapped as simply "metadata_keys()".
	* python/pythontest.py: Test Database.metadata_keys().
	* python/docs/index.html: Document Python-specific
	  Database.metadata_keys(prefix) method.

Fri Oct 31 19:05:30 GMT 2008  Olly Betts <olly@survex.com>

	* NEWS,configure.ac: Update for 1.0.9.

Fri Oct 10 06:39:55 GMT 2008  Olly Betts <olly@survex.com>

	* Backport changes from trunk:
	* Makefile.am,configure.ac: Add support for "--enable-quiet" like
	  xapian-core and omega have.
	* csharp/Makefile.am,guile/Makefile.am,java-swig/Makefile.am,
	  java/Makefile.am,java/native/Makefile.am,php/Makefile.am,
	  python/Makefile.am,ruby/Makefile.am,tcl8/Makefile.am: More changes
	  neeed for --enable-quiet support.

Fri Oct 10 03:08:30 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* configure.ac: Replace AM_CONFIG_HEADER with the more modern
	  AC_CONFIG_HEADERS.

Thu Sep 04 04:18:53 GMT 2008  Olly Betts <olly@survex.com>

	* NEWS,configure.ac: Update for 1.0.8.

Wed Sep 03 14:53:56 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* python/generate-python-exceptions.in: Use our own
	  XapianDirectorException, to avoid the unwanted side effects of
	  the default SWIG mechanism.  Fixes ticket #289.
	* python/pythontest.py: Add test_director_exception(), which tests the
	  fix for ticket #289.

Wed Sep 03 14:40:26 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* python/util.i: Fix memory leaks in query constructor typemaps.
	  Also, remove old, commented out, code which almost certainly had
	  similar memory leaks - I don't think we're going to want this
	  code, but if we do, rewriting it by copying the maintained and
	  working code for the query constructor is less likely to lead to
	  subtle errors.

Wed Sep 03 14:26:50 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* python/generate-python-exceptions.in: Fix tiny comment typo.

Wed Sep 03 14:26:00 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* configure.ac: Put the bug report URL as the third parameter to
	  AC_INIT.  Add proper m4 quoting in a few places (nowhere that
	  should actually change behaviour).  Use "dnl" comments in preference
	  to "#" comments to help reduce the size of the configure script.

Mon Jul 14 14:30:17 GMT 2008  Olly Betts <olly@survex.com>

	* configure.ac: Remove comments about autotools versions as we now
	  document that in HACKING.  Raise automake enforced minimum
	  requirement to 1.9 since we use option tar-ustar which requires 1.9.

Mon Jul 14 14:27:55 GMT 2008  Olly Betts <olly@survex.com>

	* NEWS: Update for 1.0.7.

Fri Jun 27 00:37:50 GMT 2008  Olly Betts <olly@survex.com>

	* NEWS: Update from ChangeLog.

Thu Jun 26 22:01:59 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* csharp/docs/index.html,php/docs/index.html,python/docs/index.html,
	  ruby/docs/index.html,tcl8/docs/index.html: Document all the database
	  factory functions for all languages.  Document the library version
	  functions for all languages.

Thu Jun 26 21:55:25 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* java/native/: Make passing string from Java to C++ zero-byte safe.
	  It doesn't appear to be simple to make C++ to Java work though.

Thu Jun 26 21:54:31 GMT 2008  Olly Betts <olly@survex.com>

	* Backport changes from trunk:
	* ruby/smoketest.rb: Test the version reporting functions.
	* ruby/smoketest.rb: Update copyright notice for previous change.

Thu Jun 26 21:53:39 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* ruby/docs/index.html: Document how database factory functions are
	  wrapped.

Thu Jun 26 21:28:01 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* python/extra.i: Tidy up the documentation comments for
	  TermListItem.

Sun Jun 01 15:10:22 GMT 2008  Olly Betts <olly@survex.com>

	* configure.ac: Update version to 1.0.7.

Sun May 25 22:39:35 GMT 2008  Olly Betts <olly@survex.com>

	* NEWS: Update from ChangeLog.

Sun May 25 19:51:59 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* python/pythontest.py: Remove references to "flint" from test
	  database names (use "db_" instead).

Sun May 25 18:30:33 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* xapian.i: Fix dummy Quartz and Flint Database factory functions, used
	  when Quartz and/or Flint are disabled.

Thu May 22 11:56:58 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* csharp/docs/index.html,php/docs/index.html,ruby/docs/index.html,
	  tcl8/docs/index.html: The "program" version of Remote::open() *is*
	  now wrapped, so update the documentation.

Thu May 22 11:54:38 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* python/docs/index.html: Fix typo (Database.synonym and synonym_begin
	  should be synonyms and synonyms_begin).

Thu May 22 11:21:11 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* python/docs/index.html: The "program" version of Remote::open() *is*
	  now wrapped, so update the documentation.

Thu May 22 11:18:29 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* python/docs/index.html: Update documentation of pythonic iterators.
	* python/extra.i: Correct documentation comment for
	  Database.spellings().

Thu May 22 09:39:05 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* python/docs/index.html: Note that PositionIter returns an integer
	  not a Python object (part of r10341).

Thu May 22 00:48:45 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* configure.ac: Fix breakage introduced when I changed "print foo"
	  to "print(foo)" - join strings in the print with + instead of ,.
	  mingw builds can't have worked with this, though they may still
	  not!

Thu May 22 00:45:46 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* xapian-bindings.spec.in: Remove "www." from xapian.org and
	  oligarchy.co.uk URLs.

Thu May 22 00:45:09 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* configure.ac: Improve code which prevents probing for f77, etc.

Thu May 22 00:44:14 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* python/extra.i: Correct typo in comment.

Thu May 22 00:40:12 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* python/extra.i: Update comment.

Thu May 22 00:35:19 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* php/smoketest.php,php/smoketest4.php,php/smoketest5.php: Add test
	  that VALUE_GE works for PHP.

Thu May 22 00:33:23 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* tcl8/Makefile.am: Remove bogus "../" from tcllibdir.

Thu May 22 00:32:50 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* configure.ac: Add missing m4 quoting so that TCL_LIB is correctly
	  determined.

Thu May 22 00:30:04 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* README: Note that Tcl 8.3 and earlier are no longer supported by
	  upstream.

Thu May 22 00:29:33 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* java/native/Makefile.am,python/Makefile.am,ruby/Makefile.am: Use
	  the libtool -shrext option to specify a different module extension
	  rather than our own ugly bodge.

Thu May 22 00:20:16 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* python/Makefile.am: Clean up libtoolconfig.tmp after use.

Wed Mar 19 01:06:31 GMT 2008  Olly Betts <olly@survex.com>

	* Backport changes from trunk:
	* ruby/docs/Makefile.am: Ship simplematchdecider.rb.
	* tcl8/docs/Makefile.am: Ship simpleexpand.tcl.

Sun Mar 16 11:42:21 GMT 2008  Olly Betts <olly@survex.com>

	* NEWS: Update for 1.0.6.

Sun Mar 16 11:05:21 GMT 2008  Olly Betts <olly@survex.com>

	* configure.ac: Update for 1.0.6.

Tue Mar 11 23:30:06 GMT 2008  Olly Betts <olly@survex.com>

	* Backport changes from trunk:
	* java-swig/Makefile.am: Add MultiValueSorter.java, Sorter.java, and
	  TermGenerator$flags.class.
	* java-swig/util.i: Xapian::weight::clone() collides with Java's
	  Object.clone(), so rename to cloneWeight().  Wrap Xapian::valueno
	  as Java type int to avoid a conflict with SWIG/Java's machinery.

Thu Mar 06 23:09:45 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* NEWS: Update from ChangeLog.

Wed Mar 05 07:47:44 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* java-swig/Makefile.am,php/Makefile.am,ruby/Makefile.am,
	  tcl8/Makefile.am: Minor comment correction (we only remove a single
	  file in each case).

Wed Mar 05 07:43:55 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* configure.ac,python/Makefile.am: The Python module now has the
	  extension which Python expects, which fixes a failure on Mac OS X.
	  PYTHON_PATHSEP is no longer required.

Wed Mar 05 07:39:09 GMT 2008  Olly Betts <olly@survex.com>

	* Backport change from trunk:
	* configure.ac: Correct SWIG version in error message.

Wed Jan 09 22:41:24 GMT 2008  Richard Boulton <richard@lemurconsulting.com>

	* csharp/Makefile.am: Add MultiValueSorter.cs to
	  XAPIAN_SWIG_CS_SRCS so that it gets cleaned up correctly.
	* xapian.i: Put OP_VALUE_GE and OP_VALUE_LE in the right place in
	  the enum, so that they get the right values in language bindings.

Wed Jan 09 22:00:15 GMT 2008  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Add OP_VALUE_GE and OP_VALUE_LE to Query, and add
	  constructor which they are used with.

Sun Dec 23 03:29:32 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac: Sort out the default value of TCL_LIB, which could
	  end up being under /usr/share in 1.0.4 and 1.0.5.

Sat Dec 22 18:25:19 GMT 2007  Olly Betts <olly@survex.com>

	* php/smoketest.php: Add note that this script should be run using
	  'make check' in the build tree (rather than trying to copy it to
	  a webserver as someone recently tried to).

Sat Dec 22 18:24:05 GMT 2007  Olly Betts <olly@survex.com>

	* php/smoketest.php: Fix to work under PHP4.

Sat Dec 22 04:32:39 GMT 2007  Olly Betts <olly@survex.com>

	* ruby/docs/Makefile.am: We need a custom install-data-local rule to
	  get the rdocs subdirectory installed (and a corresponding
	  uninstall-local rule to uninstall it).

Fri Dec 21 18:14:06 GMT 2007  Olly Betts <olly@survex.com>

	* NEWS: Too late for the 1.0.5 release, but reword the Python GIL fix
	  description in terms of user-visible API.

Fri Dec 21 02:14:35 GMT 2007  Olly Betts <olly@survex.com>

	* NEWS: Bump release date.

Wed Dec 19 03:46:09 GMT 2007  Olly Betts <olly@survex.com>

	* NEWS,configure.ac: Update for 1.0.5.

Wed Dec 19 01:18:58 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac: If rdoc isn't found, set RDOC="$MISSING rdoc" so the
	  user gets a better error if make tries to build the RDocs.

Wed Dec 19 00:34:45 GMT 2007  Olly Betts <olly@survex.com>

	* NEWS: Updated.

Tue Dec 18 18:58:36 GMT 2007  Olly Betts <olly@survex.com>

	* php/smoketest.php: Add feature test to ensure that optional
	  arguments to XapianQuery's "term" constructor are wrapped.
	* xapian.i: Remove comment "FIXME wrap optional arguments in PHP?"
	  referring to XapianQuery's "term" constructor as they are already
	  wrapped.

Mon Dec 17 21:02:38 GMT 2007  Olly Betts <olly@survex.com>

	* php/Makefile.am,python/Makefile.am: Having moved the directory
	  creation out of the locked region, we now need to ignore errors
	  from 'test -d DIR || mkdir DIR' as two make processes might try
	  to create the directory at the same time.

Fri Dec 14 10:43:03 GMT 2007  Richard Boulton <richard@lemurconsulting.com>

	* php/Makefile.am,python/Makefile.am: Ensure that the directories
	  that stamp files will be placed in exist before calling
	  $(multitarget_begin).  Fixes compilation failures in clean trees.

Thu Dec 13 01:58:58 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac: Improve the clarity of the error given when none
	  of the tools neeed for any supported language are found.

Thu Dec 13 01:50:17 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac,ruby/Makefile.am: Fix the Ruby module's extension so it
	  works on Mac OS X.

Thu Dec 13 01:14:29 GMT 2007  Olly Betts <olly@survex.com>

	* csharp/Makefile.am,generic/generic.mk,java-swig/Makefile.am,
	  php/Makefile.am,python/Makefile.am,ruby/Makefile.am: Factor
	  out the code to lock multitarget rules against parallel make,
	  and fix it to handle the source being changed while the rule
	  is executing, and to correct return an error code if we fail
	  while trying to recover from the removal of a target of a
	  multi-target rule.

Thu Dec 13 01:04:04 GMT 2007  Olly Betts <olly@survex.com>

	* xapian.i: Wrap Enquire::set_sort_by_relevance_then_key().

Wed Dec 12 02:22:58 GMT 2007  Olly Betts <olly@survex.com>

	* NEWS: Update from ChangeLog in preparation for 1.0.5.

Tue Dec 11 15:09:37 GMT 2007  Olly Betts <olly@survex.com>

	* ruby/docs/Makefile.am: Fix rule to build rdocs.

Tue Dec 11 01:33:23 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac,ruby/docs/Makefile.am: Run "rdoc" to generate the
	  Ruby-specific API documentation which ruby/docs/index.html has
	  a (previously dead) link to.
	* ruby/xapian.rb: Tweak ":nodoc:" directive so rdoc recognises it.

Thu Nov 29 02:48:06 GMT 2007  Olly Betts <olly@survex.com>

	* php/: Add test for XapianMultiValueSorter.

Thu Nov 29 02:47:17 GMT 2007  Olly Betts <olly@survex.com>

	* xapian.i: Wrap Enquire::set_sort_by_key() and
	  Enquire::set_sort_by_key_then_relevance().

Thu Nov 29 02:06:10 GMT 2007  Olly Betts <olly@survex.com>

	* php/smoketest5.php: Fix use of Database_get_document to new style OO
	  interface.  Fix error string when the PHP5 exception test fails.

Wed Nov 28 20:17:09 GMT 2007  Olly Betts <olly@survex.com>

	* csharp/Makefile.am,python/generate-python-exceptions.in,xapian.i:
	  Wrap Xapian::Sorter and subclasses.

Wed Nov 28 19:19:08 GMT 2007  Olly Betts <olly@survex.com>

	* ruby/Makefile.am: SWIG has accepted -initname in at least one
	  released version, so switch to using it instead of the now
	  deprecated -feature option.

Wed Nov 28 11:17:40 GMT 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/util.i: Don't drop the GIL when calling
	  Xapian_MSet_items_get() and Xapian_ESet_items_get() - these
	  methods build a python list, and return a PyObject, so it's not
	  safe to do so, and doing so may cause undefined behaviour in
	  multithreaded environments.

Wed Nov 28 00:52:46 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac: Change remaining uses of "print" in python to bracket
	  their arguments.

Wed Nov 28 00:50:41 GMT 2007  Olly Betts <olly@survex.com>

	* java-swig/Makefile.am,java/Makefile.am: Check for directory
	  existence rather than calling mkdir unconditionally as despite the
	  "(ignored)", the error message seems to confuse some people.

Tue Nov 27 22:34:11 GMT 2007  Richard Boulton <richard@lemurconsulting.com>

	* configure.ac: Change "print foo" to "print(foo)" in python
	  version checks, for compatibility with python 3.0.

Tue Nov 27 03:08:51 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac: Log the output of trying to compile conftest.java in
	  config.log; if the test fails, report whether the failure was
	  compiling or running the test program.

Tue Nov 20 01:04:31 GMT 2007  Richard Boulton <richard@lemurconsulting.com>

	* java/native/xapian_jni.h: Add include of <cstring> to fix
	  compile error with gcc-4.3 snapshot.

Fri Nov 16 15:58:57 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac: Update error message to reflect requirement for at
	  least python 2.2.

Fri Nov 16 15:57:53 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac: SWIG 1.3.32 has now been released, so require at least
	  this released version.

Tue Nov 06 12:34:00 GMT 2007  Olly Betts <olly@survex.com>

	* java/org/xapian/Makefile.am: No need to set SUFFIXES manually for
	  suffixes used in implicit rules.

Sat Nov 03 01:07:39 GMT 2007  Olly Betts <olly@survex.com>

	* csharp/docs/index.html: Improve wording.

Fri Nov 02 20:31:55 GMT 2007  Olly Betts <olly@survex.com>

	* tcl8/docs/index.html: Update documentation to cover flint and that
	  quartz is now deprecated.

Fri Nov 02 20:15:19 GMT 2007  Olly Betts <olly@survex.com>

	* tcl8/except.i: Remove code to handle `const char *' exceptions - as
	  of 1.0.0 the QueryParser throws QueryParserError instead.

Fri Nov 02 02:16:32 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac: Overhaul code to find tcl.h.  The old way no longer
	  worked with Debian unstable.

Tue Oct 30 05:00:42 GMT 2007  Olly Betts <olly@survex.com>

	* NEWS: The GUARD macro I fixed in SWIG/Python isn't actually used by
	  Xapian so remove the NEWS item about it.

Tue Oct 30 04:56:13 GMT 2007  Olly Betts <olly@survex.com>

	* NEWS,configure.ac: Update for 1.0.4.

Mon Oct 29 18:35:09 GMT 2007  Olly Betts <olly@survex.com>

	* NEWS: Update.

Mon Oct 29 17:15:20 GMT 2007  Olly Betts <olly@survex.com>

	* python/docs/index.html: Promote the Pythonic iterators more
	  and deprecate the non-pythonic iterators.  Make it clearer
	  that the "sequence API" is deprecated.

Mon Oct 29 16:50:28 GMT 2007  Olly Betts <olly@survex.com>

	* python/docs/index.html: Fix typo.

Mon Oct 29 02:54:53 GMT 2007  Olly Betts <olly@survex.com>

	* NEWS,csharp/Makefile.am,python/extra.i,python/pythontest.py,
	  python/util.i,xapian.i: Back out match spy changes in preparation
	  for creating a branch for them.

Sat Oct 27 06:05:56 BST 2007  Olly Betts <olly@survex.com>

	* csharp/SmokeTest.cs,ruby/smoketest.rb,tcl8/smoketest.tcl: Update for
	  changed output for Query::get_description() for OP_SCALE_WEIGHT.

Sat Oct 27 06:03:53 BST 2007  Olly Betts <olly@survex.com>

	* php/smoketest.php: Update for changed output for
	  Query::get_description() for OP_SCALE_WEIGHT.

Sat Oct 27 06:01:13 BST 2007  Olly Betts <olly@survex.com>

	* NEWS: Update.

Fri Oct 26 18:10:10 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/docs/examples/simpleexpand.py,
	  python/docs/examples/simplematchdecider.py,
	  python/docs/examples/simplesearch.py: Change from using the
	  old-style MSET_* constants to access the mset item values to the
	  new-style attribute based method.

Fri Oct 26 17:56:32 BST 2007  Olly Betts <olly@survex.com>

	* python/docs/index.html: Document MSET_DOCUMENT.

Fri Oct 26 01:08:50 BST 2007  Olly Betts <olly@survex.com>

	* python/: Add xapian.pyo to svn:ignore.

Fri Oct 26 01:04:47 BST 2007  Olly Betts <olly@survex.com>

	* python/smoketest.py: Update for changed output from
	  Query::get_description().

Thu Oct 25 18:11:40 BST 2007  Olly Betts <olly@survex.com>

	* php/Makefile.am: The php4 and php5 .cc and .h files are no longer
	  identical so don't bother carefully interleaving them as it doesn't
	  help the tarball compress better now.
	* php/Makefile.am: Use $(datadir) instead of $(datarootdir) so that
	  the RPM spec file works with older versions of autoconf.

Tue Oct 23 16:19:15 BST 2007  Olly Betts <olly@survex.com>

	* csharp/docs/Makefile.am,php/docs/Makefile.am,python/docs/Makefile.am,
	  ruby/docs/Makefile.am,tcl8/docs/Makefile.am: Update for the
	  bindings.html -> index.html change.

Tue Oct 23 16:18:09 BST 2007  Olly Betts <olly@survex.com>

	* python/util.i: Fix warning with Python <= 2.4 and GCC >= 4.2.

Mon Oct 22 22:45:08 BST 2007  Olly Betts <olly@survex.com>

	* csharp/docs/bindings.html,php/docs/bindings.html,
	  python/docs/bindings.html,ruby/docs/bindings.html,
	  tcl8/docs/bindings.html: Rename 'bindings.html' to 'index.html'.

Mon Oct 22 22:34:42 BST 2007  Olly Betts <olly@survex.com>

	* python/docs/bindings.html: "character set" -> "character encoding".

Wed Oct 17 00:49:39 BST 2007  Olly Betts <olly@survex.com>

	* NEWS: Update with changes due to using a newer SWIG SVN snapshot.

Tue Oct 09 22:14:03 BST 2007  Olly Betts <olly@survex.com>

	* NEWS: Update.

Tue Oct 09 22:01:57 BST 2007  Olly Betts <olly@survex.com>

	* php/util.i: For PHP4, wrap Xapian::sortable_serialise() as
	  xapian_sortable_serialise() and Xapian::sortable_unserialise() as
	  xapian_sortable_unserialise().
	* php/docs/bindings.html: Document how non-class functions are
	  wrapped.

Tue Oct 09 00:00:53 BST 2007  Olly Betts <olly@survex.com>

	* php/: Fix wrapping of NumberValueRangeProcessor for PHP4 - SWIG
	  sees the Xapian::v102 namespace, but doesn't understand the
	  "using" directive.  Also split the regression test for bug#193
	  into separate versions for PHP4 and PHP5 as the previous version
	  only worked for PHP5.

Sun Oct 07 19:47:55 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* csharp/SmokeTest.cs,php/smoketest.php,php/smoketest4.php,
	  php/smoketest5.php,python/pythontest.py,python/smoketest.py,
	  ruby/smoketest.rb,tcl8/smoketest.tcl,xapian.i: Update for the
	  change from OP_MULT_WEIGHT to OP_SCALE_WEIGHT.

Mon Oct 01 00:38:21 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* csharp/SmokeTest.cs,php/smoketest.php,php/smoketest4.php,
	  php/smoketest5.php,python/smoketest.py,ruby/smoketest.rb,
	  tcl8/smoketest.tcl: Add tests for OP_MULT_WEIGHT and
	  corresponding constructor to smoketests.
	* NEWS: Updated

Sun Sep 30 23:38:45 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Add OP_MULT_WEIGHT, and the new constructor needed to
	  use it.
	* python/pythontest.py: Add simple test of OP_MULT_WEIGHT feature,
	  and a more involved test which uses the value of
	  MSet.get_max_possible() from an initial query to get the factor
	  necessary to normalise the weights from a subquery, and then uses
	  this factor in a second query with OP_MULT_WEIGHT.
	* NEWS: Updated

Sun Sep 30 21:16:41 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* csharp/Makefile.am,python/extra.i,python/pythontest.py,
	  python/util.i,xapian.i: Re-apply changes which needed more
	  thought or more work before being included in a release.
	* NEWS: Update with current descriptions of these changes.

Sat Sep 29 01:29:14 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* ruby/smoketest.rb: Change name of test for metadata to avoid
	  collision with matchdecider test (and to be correctly
	  descriptive).

Fri Sep 28 18:33:09 BST 2007  Olly Betts <olly@survex.com>

	* NEWS: Update for 1.0.3.

Fri Sep 28 18:06:58 BST 2007  Olly Betts <olly@survex.com>

	* INSTALL,configure.ac: Allow the user to specify TCL_LIB=... on the
	  configure command line to override autodetection.
	* Makefile.am: Automatically set up DISTCHECK_CONFIGURE_FLAGS so that
	  "make distcheck" passes without user intervention, and remove the
	  now redundant EXTRADISTCHECK_CONFIGURE_FLAGS variable.
	* INSTALL: Remove documentation for EXTRADISTCHECK_CONFIGURE_FLAGS.
	* INSTALL: Fix cut-and-paste error - the documentation for how to
	  install the tcl module without root access suggested installing them
	  in a directory named "my-python-modules"!

Fri Sep 28 13:48:10 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/smoketest.py: Test behaviour of empty metadata keys.

Fri Sep 28 13:18:34 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* csharp/SmokeTest.cs,ruby/smoketest.rb: Add tests for metadata
	  methods.

Fri Sep 28 13:08:52 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Add support for get_metadata() and set_metadata() to
	  databases.
	* php/smoketest.php,python/smoketest.py: Add simple tests of
	  metadata methods.

Fri Sep 28 03:54:19 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Update for 1.0.3.  Use ustar format for tarball since
	  we have to for xapian-core anyway.

Fri Sep 28 03:46:22 BST 2007  Olly Betts <olly@survex.com>

	* csharp/Makefile.am,python/extra.i,python/pythontest.py,python/util.i,
	  xapian.i: Back out changes for 1.0.3 corresponding to changes backed
	  out for xapian-core.

Fri Sep 28 03:43:56 BST 2007  Olly Betts <olly@survex.com>

	* csharp/util.i: Ignore ValueRangeProcessor::operator(), since
	  we don't usefully wrap it at present.

Fri Sep 28 03:38:22 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Fix reversed sense tests for user overrides of
	  RUBY_INC, RUBY_LIB, and RUBY_LIB_ARCH.

Wed Sep 26 11:50:24 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/testsuite.py: Add a "runonly" parameter to runtests(),
	  allowing the set of tests to run to be specified.
	* python/pythontest.py: Use any commandline arguments to populate
	  the "runonly" parameter, allowing the tests to run to be
	  specified on the command line.

Fri Sep 21 16:47:11 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/docs/bindings.html: Suggest using Python version 2.4 or
	  later if using mod-python: apparently, even with the
	  "PythonInterpreter main_interpreter" workaround, mod-python gets
	  into a deadlock with Xapian with Python 2.3.

Wed Sep 19 16:11:58 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/docs/bindings.html: Add documentation for python
	  implementations of ValueRangeProcessors.

Wed Sep 19 16:06:18 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/pythontest.py,python/util.i: Implement conversion of the
	  return value from ValueRangeProcessor subclasses implemented in
	  Python from a tuple, so that such subclasses can change the
	  values of begin and end.

Wed Sep 19 14:11:22 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Add director directive for Xapian::ValueRangeProcessor,
	  to allow implementations in the target language, where directors
	  are supported.
	* python/generate-python-exceptions.in: Copy workaround for thread
	  handling stuff for ValueRangeProcessor::operator().
	* python/pythontest.py: Add test_queryparser_custom_vrp() for
	  ValueRangeProcessors implemented in Python, and clean up some of
	  the other tests slightly.

Wed Sep 19 00:46:31 BST 2007  Olly Betts <olly@survex.com>

	* python/util.i: Fix typo in comment.

Tue Sep 18 19:59:50 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/docs/bindings.html: Document the return value of
	  ValueRangeProcessor.__call__()

Tue Sep 18 19:42:13 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/util.i,python/extra.i: Add support for
	  ValueRangeProcessor.operator(); this is messy because we need to
	  make special argout typemaps, and the parameter names (begin and
	  end) are used for arguments of type "std::string&" elsewhere -
	  therefore, we have to extend ValueRangeProcessor with a new
	  __call() method with uniquely named arguments, and then override
	  the original __call__ method with this (in the python code).
	  ValueRangeProcessor.__call__() now returns a 3-tuple, (slotnum,
	  begin, end) - previously, it always failed with a type error, so
	  this won't break existing code.  Fixes bug #193 for Python.
	* python/smoketest.py: Add test for DateValueRangeProcessor() when
	  used in a query parser, a regression test for bug #193 (using a
	  NumberValueRangeProcessor), and some other regression tests from
	  the PHP test file.

Tue Sep 18 04:16:54 BST 2007  Olly Betts <olly@survex.com>

	* php/smoketest.php: Use single quotes for string with $ in.

Tue Sep 18 04:09:55 BST 2007  Olly Betts <olly@survex.com>

	* php/smoketest.php: Add feature test for DateValueRangeProcessor
	  when used with QueryParser.
	* php/smoketest.php: Add regression test for bug#193 which is fixed
	  by SWIG SVN r9941.

Tue Sep 18 04:03:11 BST 2007  Olly Betts <olly@survex.com>

	* php/util.i: Remove typemap for std::string which is no longer needed
	  since SWIG now has the same version.

Sun Sep 16 20:46:48 BST 2007  Olly Betts <olly@survex.com>

	* python/Makefile.am: Need to clean up testsuite.pyc too.

Sun Sep 16 12:17:24 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* java/native/Makefile.am: Change $(jnilib) to $(jnidir) in
	  uninstall-local rule - there's no such variable as jnilib, so I
	  think this was a typo.

Sun Sep 16 04:26:02 BST 2007  Olly Betts <olly@survex.com>

	* java/org/xapian/Makefile.am: Rewrite comment I can't parse.  Rename
	  INNERCLASS_FILES to XAPIAN_INNER_CLASS_FILES for consistency.

Sun Sep 16 04:22:16 BST 2007  Olly Betts <olly@survex.com>

	* java/native/org_xapian_XapianJNI.h,java/org/xapian/Xapian.java,
	  java/org/xapian/XapianJNI.java: Remove wrappers for the Muscat36
	  backend, which has now been dropped from the C++ library.

Sun Sep 16 04:03:30 BST 2007  Olly Betts <olly@survex.com>

	* java-swig/Makefile.am,java/native/Makefile.am,php/Makefile.am,
	  python/Makefile.am,ruby/Makefile.am,tcl8/Makefile.am: Restore the
	  install-data-hook rules, and add uninstall-local rules so that
	  "make uninstall" works (which also allows it to work for java on
	  Mac OS X).

Sun Sep 16 00:00:27 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* java/org/xapian/Makefile.am: Add list of files generated from
	  inner classes to CLEANFILES.  (Don't add them to noinst_DATA
	  because there's no obvious rule which generates them, and adding
	  them to noinst_DATA would make them prerequisites for the
	  "all-am" target.)

Sat Sep 15 23:39:42 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* java-swig/Makefile.am,java/native/Makefile.am,php/Makefile.am,
	  python/Makefile.am,ruby/Makefile.am,tcl8/Makefile.am: Remove
	  install-data-hook rules which removed the installed .la files -
	  these are needed for "make uninstall" to work (and hence, also
	  for make distcheck to work).

Sat Sep 15 23:13:05 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* Makefile.am: Add support for a user-specified
	  "EXTRADISTCHECK_CONFIGURE_FLAGS" variable, used to pass extra
	  DISTCHECK_CONFIGURE_FLAGS to make to be passed to the configure
	  run in distcheck.  Users can't just set DISTCHECK_CONFIGURE_FLAGS
	  because this would override the default value (which sets
	  XAPIAN_CONFIG): unlike the more common options, there doesn't
	  seem to be an AM_DISTCHECK_CONFIGURE_FLAGS variable for the
	  internal options.
	* INSTALL: Document use of EXTRADISTCHECK_CONFIGURE_FLAGS.

Tue Sep 04 02:47:17 BST 2007  Olly Betts <olly@survex.com>

	* php/docs/bindings.html: Fix errors in example code.

Sun Aug 26 16:12:49 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* csharp/Makefile.am: Fix changed assembly name, to match change in
	  type of result of MatchSpy::get_values()

Sun Aug 26 16:07:25 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/util.i: Change size_t to Xapian::doccount in
	  value_map_to_dict, to match ValueCountMatchSpy::get_values().
	  Fixes compilation on atreus (and hopefully other 64 bit systems).

Sat Aug 25 17:09:33 BST 2007  Olly Betts <olly@survex.com>

	* php/smoketest.php: Add regression test for bug#192.

Fri Aug 24 12:13:15 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* README,python/docs/bindings.html: Add a note about the problems
	  with mod-python, as described in bug #185.

Thu Aug 23 23:10:16 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Check for RUBY_INC, RUBY_LIB, and RUBY_LIB_ARCH in the
	  environment.  The defaults for RUBY_LIB and RUBY_LIB_ARCH are now
	  the site-specific directories (which is more correct when building
	  from source - debian packages, etc can override this by setting
	  RUBY_LIB and RUBY_LIB_ARCH).
	* INSTALL: Update the instructions for installing Ruby bindings
	  without root access to use RUBY_LIB and RUBY_LIB_ARCH.

Fri Aug 03 20:13:06 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/util.i: Extend StringListUnserialiser to support the same
	  comparison operators as other iterator wrapping classes.

Fri Aug 03 20:12:14 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Add %ignore and %extend commands to wrap the
	  StringListUnserialiser iterator properly.

Tue Jul 17 13:21:28 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/pythontest.py: Add test of TermCountMatchSpy.get_top_terms().

Tue Jul 17 12:31:30 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i: Add workaround to keep a python reference to any
	  match deciders supplied to MultipleMatchDecider, to ensure they
	  don't get deleted too soon.
	* python/pythontest.py: Add test of MultipleMatchDecider.

Tue Jul 17 11:30:58 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/pythontest.py: Remove test of get_most_frequent_items() which
	  is no longer a public function.
	* python/util.i: Update comments.

Sat Jul 14 00:35:36 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* csharp/Makefile.am: Add new generated source files to build.

Sat Jul 14 00:23:46 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i,python/util.i: Instead of convering the output of
	  ValueCountMatchSpy::get_values() to a dict, add a separate method
	  get_values_as_dict() which returns a dict(), and leave
	  get_values() returning a C object, which can then be passed to
	  get_most_frequent_items().  Similarly for
	  TermCountMatchSpy::get_terms_as_dict(). Adjust argout typemap for
	  return of old class "ValueAndFreqnecy" to use new name
	  "StringAndFrequency".
	* python/pythontest.py: Convert old test of TopValueMatchSpy to
	  test ValueCountMatchSpy and TermCountMatchSpy.

Thu Jul 12 07:23:44 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/util.i: Change some error handling to use SWIG_fail
	  instead of "return NULL" - allows any cleanup code that SWIG adds
	  to be called (no functional change in the generated code at
	  present).  Add typemaps to convert the output of
	  ValueCountMatchSpy::get_values() into a dict, and the output of
	  TopValueMatchSpy::get_top_values() into a list.
	* python/pythontest.py: Add tests for the matchspies (though not
	  with an actual search - the tests just simulate the matchspies
	  being called with some documents).

Sat Jul 07 11:09:25 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian-bindings.spec.in: Update from Fabrice Colin: packages
	  xapian.php, and replaces references to /usr/share with
	  %{_datadir}.

Thu Jul 05 21:01:38 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Wrap MatchDecider even for languages which don't
	  support directors, since there's a C++ subclass of it now so it's
	  usable even then.

Thu Jul 05 18:24:50 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: %include matchspy.h - doesn't seem to need any
	  %ignores.

Thu Jul 05 15:33:52 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/pythontest.py: Delete the database handles before deleting
	  a database - hopefully, this will fix problems on windows (bug
	  #179).

Thu Jul 05 00:55:15 BST 2007  Olly Betts <olly@survex.com>

	* NEWS: Final update for 1.0.2.

Wed Jul 04 21:21:41 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* NEWS: Update with release date for release 1.0.2

Wed Jul 04 20:42:54 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* configure.ac: Bump version to 1.0.2.

Wed Jul 04 19:52:50 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* NEWS: Update.

Wed Jul 04 19:51:51 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Add the new matchspy form of get_mset.

Wed Jul 04 17:58:13 BST 2007  Olly Betts <olly@survex.com>

	* NEWS: Update.

Wed Jul 04 17:48:38 BST 2007  Olly Betts <olly@survex.com>

	* php/Makefile.am: Install xapian.php.

Wed Jul 04 17:44:59 BST 2007  Olly Betts <olly@survex.com>

	* java-swig/Makefile.am: Update for ValueRangeProcessor classes.

Wed Jul 04 17:42:34 BST 2007  Olly Betts <olly@survex.com>

	* php/util.i: Rename the ValueRangeProcessor subclasses and
	  TermGenerator to have a Xapian prefix for PHP4.

Wed Jul 04 17:41:36 BST 2007  Olly Betts <olly@survex.com>

	* xapian-bindings.spec.in: Don't mention %makeinstall in a comment as
	  that makes RPM explode.  Add in a missing "mv" for installing tcl8
	  documentation.

Wed Jul 04 17:39:26 BST 2007  Olly Betts <olly@survex.com>

	* INSTALL: Remove documentation of the "phpextdir" and "pylibdir" ways
	  of installing a local copy - setting PHP_EXTENSION_DIR or PYTHON_LIB
	  at configure time is a better solution.

Wed Jun 27 14:16:00 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* NEWS: Updated.

Wed Jun 27 14:15:15 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/pythontest.py: Add tests of the Database.spellings()
	  iterator.

Wed Jun 27 14:13:09 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* NEWS: Updated.

Tue Jun 26 17:34:52 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i,xapian.i: Add support for spellings_begin(), and
	  add a python-specific term iterator for it, accessed as
	  Database.spellings()

Tue Jun 26 00:56:03 BST 2007  Olly Betts <olly@survex.com>

	* xapian.i: Fix for document.h wrapping.

Tue Jun 26 00:01:38 BST 2007  Olly Betts <olly@survex.com>

	* xapian.i: Parse xapian/postingiterator.h directly.

Mon Jun 25 23:21:45 BST 2007  Olly Betts <olly@survex.com>

	* xapian.i: Parse xapian/document.h directly.

Mon Jun 25 18:07:36 BST 2007  Olly Betts <olly@survex.com>

	* xapian.i: Use "%include <xapian/queryparser.h>" to wrap
	  Xapian::QueryParser, etc.  This adds FLAG_SYNONYM and updates
	  FLAG_MULTIWORD_SYNONYMS.

Sat Jun 23 19:02:51 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Add new synonym_keys_begin() and synonym_keys_end()
	  methods to Database.
	* python/extra.i: Add synonym_keys() python iterator to Database.
	* python/pythontest.py: Test synonym_keys() iterator, and tidy up
	  earlier test for synonyms()

Fri Jun 22 18:43:42 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Add synonym support: new methods on Database and
	  WritableDatabase, and some new flags for the query parser.
	* python/extra.i: Add Database.synonyms, to iterator the synonyms
	  for a term.
	* python/pythontest.py: Add a test for synonym iterators, and clean
	  up after the tests which make their own databases.

Wed Jun 20 21:38:45 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/pythontest.py: Enable the spelling test, and also make it
	  check that spellings can be corrected using a writable database
	  before calling flush().

Wed Jun 20 17:33:17 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/pythontest.py: Add a test of the spelling stuff (at the
	  database layer, not the queryparser layer yet).  Currently fails,
	  so has a "return" as the first line until it's fixed.

Wed Jun 20 12:54:23 BST 2007  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Fix parallel make handling to include
	  xapian_wrap.h.

Wed Jun 20 08:11:50 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Add spelling correction methods and constants:
	  Database::get_spelling_suggestion(),
	  WritableDatabase::add_spelling() and remove_spelling(),
	  QueryParser::FLAG_SPELLING_CORRECTION and
	  QueryParser::get_corrected_query_string()

Mon Jun 18 13:54:19 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Add the new static methods in NumberValueRangeProcessor
	  for serialising and unserialising doubles to the bindings.

Mon Jun 18 03:27:58 BST 2007  Olly Betts <olly@survex.com>

	* INSTALL: "--with-swig" has been removed, so don't mention it.

Sun Jun 17 09:39:43 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* configure.ac: Similarly, for PHP, respect a value of
	  PHP_EXTENSION_DIR supplied to configure, and add it to the --help
	  output.
	* INSTALL: Document PHP_EXTENSION_DIR (and tweak documentation for
	  Python equivalent slightly).

Sun Jun 17 09:23:43 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* configure.ac: Respect the value of PYTHON_LIB supplied to
	  configure; it was listed in the output of ./configure --help, but
	  the value supplied was ignored.
	* HACKING: Document setting PYTHON_LIB as an alternative way to
	  specify the python install location (at configure time instead of
	  make time).

Sat Jun 16 11:06:59 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* Makefile.am: Pass value of XAPIAN_CONFIG to distcheck, to ensure
	  that it works with uninstalled copies of Xapian.

Thu Jun 14 18:42:11 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/generate-python-exceptions.in: Fix a threading problem:
	  the GIL was not being re-acquired when an exception was thrown
	  before setting the Python exception state.  This was causing
	  various memory corruption symptoms.  Fixed by explicitly calling
	  SWIG_PYTHON_THREAD_END_ALLOW() in the catch() clause (except for
	  directory classes); this is a bit ugly, but I can't see how SWIG
	  could be fixed to do this automatically, since it doesn't know
	  what's going on in the "exception" clause.

Tue Jun 12 02:46:01 BST 2007  Olly Betts <olly@survex.com>

	* python/smoketest.py,python/testsuite.py: Tweak expect_query() to add
	  "Xapian::Query(" and ")" around the expected description.
	* python/smoketest.py: Add test case for OP_VALUE_RANGE query.

Mon Jun 11 03:58:50 BST 2007  Olly Betts <olly@survex.com>

	* NEWS: Improve wording.

Mon Jun 11 03:16:20 BST 2007  Olly Betts <olly@survex.com>

	* NEWS: Probably final update for 1.0.1.

Mon Jun 11 03:08:13 BST 2007  Olly Betts <olly@survex.com>

	* python/docs/examples/: Update to use QueryParser and TermGenerator.

Mon Jun 11 02:23:02 BST 2007  Olly Betts <olly@survex.com>

	* csharp/docs/Makefile.am,csharp/docs/bindings.html,
	  csharp/docs/examples/SimpleExpand.cs: Add SimpleExpand
	  example.

Mon Jun 11 01:23:52 BST 2007  Olly Betts <olly@survex.com>

	* xapian-bindings.spec.in: Use "make install" instead of %makeinstall
	  to avoid doubled %{buildroot} prefix on most files which we then
	  have to work around.

Mon Jun 11 01:11:31 BST 2007  Olly Betts <olly@survex.com>

	* csharp/docs/examples/SimpleIndex.cs,
	  csharp/docs/examples/SimpleSearch.cs: Update to use QueryParser and
	  TermGenerator.
	* csharp/docs/bindings.html: Document explicitly how STEM_SOME, etc
	  are currently wrapped.  Update GetTermName() reference to GetTerm().

Sun Jun 10 22:01:47 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Drop automake requirement to 1.8.3 to allow RPM spec
	  file to work on SLES 9.

Sun Jun 10 21:50:28 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Bump version to 1.0.1.

Fri Jun 08 20:40:00 BST 2007  Olly Betts <olly@survex.com>

	* ruby/docs/examples/: Update to use TermGenerator and QueryParser
	  classes.

Fri Jun 08 20:10:42 BST 2007  Olly Betts <olly@survex.com>

	* ruby/util.i: Add missing rename for TermGenerator::set_document()
	  so it can be used as "tg.document = doc" in Ruby.

Thu Jun 07 01:06:17 BST 2007  Olly Betts <olly@survex.com>

	* NEWS: Updated.

Thu Jun 07 01:01:05 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Note new required SWIG SVN rev.

Thu Jun 07 00:58:08 BST 2007  Olly Betts <olly@survex.com>

	* php/docs/examples/: Fix simpleexpand examples to put up to 5
	  documents in the fake RSet as the comments say, not 4 as the
	  code incorrectly did!
	* php/docs/examples/: Fix exception reporting in PHP5 examples.

Thu Jun 07 00:49:23 BST 2007  Olly Betts <olly@survex.com>

	* tcl8/docs/examples/simpleindex.tcl,
	  tcl8/docs/examples/simplesearch.tcl: Update to use TermGenerator
	  and QueryParser, and to more closely match the new C++ versions.
	* tcl8/docs/examples/simpleexpand.tcl: New example to demonstrate
	  relevance feedback, based on C++ simpleexpand.cc.
	* tcl8/docs/bindings.html: Add link to new simpleexpand.tcl example.

Thu Jun 07 00:05:25 BST 2007  Olly Betts <olly@survex.com>

	* php/docs/examples/: Fix missing "\n" in error message when we're run
	  under a non-CLI version of PHP.

Thu Jun 07 00:02:33 BST 2007  Olly Betts <olly@survex.com>

	* tcl8/runtest.tcl: Fix exit handling to work if the called script
	  exits implicitly.

Thu Jun 07 00:00:17 BST 2007  Olly Betts <olly@survex.com>

	* tcl8/docs/bindings.html: Document how constants are wrapped.

Wed Jun 06 23:47:03 BST 2007  Olly Betts <olly@survex.com>

	* tcl8/runtest.tcl: Enhance to allow calling a script with command
	  line arguments (useful for testing the examples).

Wed Jun 06 22:39:01 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Note the SWIG SVN revision currently recommended.

Wed Jun 06 12:34:18 BST 2007  Olly Betts <olly@survex.com>

	* php/docs/examples/: Rewrite examples to closely model the new C++
	  simple examples.

Tue Jun 05 17:23:17 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Fix comment typo.

Mon Jun 04 17:48:53 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* configure.ac,python/Makefile.am,python/util.i: Patch from James
	  Aylett (slightly adapted) to avoid building doccoments.i in
	  maintainer builds with --disable-documentation specified.  In
	  this situation, the generated python bindings won't have the
	  doccomments extracted by doxygen from the xapian headers, but
	  they will compile and work.

Fri Jun 01 12:54:28 BST 2007  Olly Betts <olly@survex.com>

	* xapian.i: Remove "#ifndef SWIGGUILE" around a Query constructor -
	  if anyone revives the guile bindings, they'll probably need to
	  sort this out, but this "fix" certainly isn't correct.

Fri Jun 01 12:53:36 BST 2007  Olly Betts <olly@survex.com>

	* guile/Makefile.am: Fix out-of-date "include".  Use $(SWIG_CXXFLAGS)
	  not @SWIG_CXXFLAGS@.

Fri Jun 01 10:32:40 BST 2007  Olly Betts <olly@survex.com>

	* python/Makefile.am: Generate and install xapian.pyo.

Thu May 31 19:15:58 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Relax automake requirement to 1.9.2 to allow RPM
	  building on RHEL 4.

Thu May 31 18:44:55 BST 2007  Olly Betts <olly@survex.com>

	* INSTALL,NEWS,README,configure.ac,java/README: Change "MacOS X" to
	  "Mac OS X".

Thu May 31 17:59:25 BST 2007  Olly Betts <olly@survex.com>

	* java-swig/Makefile.am: Use JAVA_CPPFLAGS so we find jni.h.

Thu May 31 14:52:07 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Automatically add an extra "-I" for the
	  linux/solaris/win32 subdirectory which Sun's JDK requires.
	* java/README: Remove note saying that the user may have to do this
	  manually.

Thu May 31 13:11:56 BST 2007  Olly Betts <olly@survex.com>

	* java-swig/Makefile.am: Distribute the generated .java sources.

Thu May 31 12:34:25 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Document JAVA_HOME and JDK_HOME in ./configure --help
	  and mark their values as "precious" so they are preserved for when
	  configure is automatically rerun.

Wed May 30 23:54:23 BST 2007  Olly Betts <olly@survex.com>

	* python/smoketest.py: Update uses of the legacy sequence API.
	* python/pythontest.py: The legacy sequence API is only supported for
	  Python 2.3 and later, so don't run tests for it when running under
	  Python 2.2.

Wed May 30 22:27:33 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/pythontest.py,python/smoketest.py: Revert the earlier
	  change to the expected output from testcases which expect
	  exceptions, in line with the new Error.__str__() method.

Wed May 30 22:21:32 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/generate-python-exceptions.in: Override the new default
	  get_description() method in the Python bindings (which is renamed
	  to __str__) with a similar method which doesn't include the type
	  of the error message at the start of the error string.  Python
	  errors are almost always displayed preceded by the type of the
	  error class, so this was causing the type of the error to be
	  repeated in tracebacks and similar reports.

Wed May 30 17:57:34 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: `configure --help' documented that environmental
	  variable JNI_INCLUDE_DIR was looked at, but in fact its value
	  was read but ignored.  We now use it as the first place to
	  look for jni.h.

Wed May 30 14:52:04 BST 2007  Olly Betts <olly@survex.com>

	* NEWS: Update.  Add in all the standard subheadings.  Fix all
	  the "Xapian-core <version> (<date>):" headings to refer to
	  "Xapian-bindings" instead.

Wed May 30 13:20:13 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Wrap new forms of allterms_begin() and allterms_end()
	  which take prefixes.
	* python/extra.i: Add support for prefix-restricted pythonic allterms
	  iterators.
	* python/pythontest.py: Add test for new prefix-restricted allterms
	  iterators.  Update existing allterms text to set the context to
	  useful values.

Tue May 29 09:50:17 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/docs/bindings.html: Update documentation in a couple of
	  places to refer to updated replacements for MSetIterator.

Tue May 29 09:49:41 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/testsuite.py: Change testsuite output to be more
	  vim-friendly (vim should be able to jump to the right lines now).

Sun May 27 16:11:42 BST 2007  Olly Betts <olly@survex.com>

	* python/generate-python-exceptions.in: Remove __str__ method from
	  %extend of Error class, since C++ now provides an
	  Error::get_description() method which is automatically renamed to
	  __str__.
	* python/pythontest.py,python/smoketest.py: New C++
	  Error::get_description() method gives different output to the old
	  Python-specific __str__, so update testcases to match.
	* python/generate-python-exceptions.in: Mark generated file using
	  `@configure_input@'.

Sun May 27 15:31:06 BST 2007  Olly Betts <olly@survex.com>

	* csharp/SmokeTest.cs: Update comment about Portable.NET bug - the bug
	  is fixed in their CVS repo, and the fix should be in their 0.8.2
	  release.

Mon May 21 07:11:12 BST 2007  Olly Betts <olly@survex.com>

	* tcl8/docs/examples/simpleindex.tcl,
	  tcl8/docs/examples/simplesearch.tcl: Need to update to
	  "package require xapian 1.0.0" here too.

Mon May 21 01:51:24 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Add Query constructor used to make ValueRange queries,
	  which got missed out of the bindings.

Fri May 18 12:59:55 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* configure.ac,tcl8/Makefile.am,tcl8/pkgIndex.tcl.in: Generate
	  tcl8/pkgIndex.tcl from a .in file, instead of using a special
	  rule in tcl8/Makefile.am.  Should make the dependencies more
	  robust, and is generally cleaner.

Fri May 18 09:16:14 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* tcl8/smoketest.tcl: Update tcl smoketest.tcl to require version
	  1.0.0 - it previously required 0.9.6, bug TCLs "package require"
	  command doesn't accept differing major numbers, even if -exact
	  isn't specified.
	* tcl8/Makefile.am: Add dependency on ../config.status to
	  pkgIndex.tcl, so that it gets updated when the version number
	  changes.

Thu May 17 22:27:08 BST 2007  Olly Betts <olly@survex.com>

	* NEWS: Final update before release.

Thu May 17 22:10:42 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/docs/bindings.html: Document iterators, and iterator
	  properties, which have a problem with the lazy evaluation if the
	  iterator has moved before the evaluation happens.  Add a title to
	  the table of equivalents to the old Sequence API.

Thu May 17 21:51:33 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* NEWS: Update the Python entries.

Thu May 17 19:52:05 BST 2007  Olly Betts <olly@survex.com>

	* NEWS: Sort out the easier Python entries, since Richard seems to
	  have fallen off the net.

Thu May 17 19:11:38 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Bump version to 1.0.0.

Thu May 17 17:28:35 BST 2007  Olly Betts <olly@survex.com>

	* NEWS: Update.

Thu May 17 17:25:39 BST 2007  Olly Betts <olly@survex.com>

	* ruby/docs/bindings.html: Remove "beta quality" warning - the Ruby
	  bindings seem as solid as the others and no problems have been
	  reported.
	* ruby/docs/bindings.html: Add section on Unicode support.

Thu May 17 17:25:06 BST 2007  Olly Betts <olly@survex.com>

	* php/docs/bindings.html: Tweak the linked text.

Thu May 17 16:41:19 BST 2007  Olly Betts <olly@survex.com>

	* NEWS: Minor fixes from Jenny's proofreading.

Thu May 17 15:49:14 BST 2007  Olly Betts <olly@survex.com>

	* NEWS: Updated for 1.0.0 except for the Python changes.

Thu May 17 15:48:16 BST 2007  Olly Betts <olly@survex.com>

	* php/smoketest.php: The PHP5 overloading issue was fixed in 0.9.10.1
	  not 0.9.10, so update a comment to reflect this.

Wed May 16 09:21:15 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* csharp/Makefile.am,xapian.i: Add ValueRangeProcessors to the
	  bindings, and add the OP_VALUE_RANGE query operator.

Tue May 15 17:47:30 BST 2007  Olly Betts <olly@survex.com>

	* README: Tweak wording.
	* csharp/docs/bindings.html: Document Unicode support.

Tue May 15 16:42:32 BST 2007  Olly Betts <olly@survex.com>

	* HACKING,README: Various updates.

Tue May 15 04:58:21 BST 2007  Olly Betts <olly@survex.com>

	* python/docs/bindings.html: Reword "This is being changed to [...]".

Tue May 15 04:41:15 BST 2007  Olly Betts <olly@survex.com>

	* tcl8/docs/bindings.html: Add Unicode section, documenting the issue
	  with ASCII nul.

Tue May 15 04:35:10 BST 2007  Olly Betts <olly@survex.com>

	* php/docs/bindings.html: Add note about Unicode support.

Mon May 14 19:42:06 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/smoketest.py: Fix query tests to match the output of the
	  new query parser.

Mon May 14 16:16:38 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/docs/bindings.html: Fix typo - NFKC is definitely probably
	  the form you want.

Mon May 14 15:34:52 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/pythontest.py,python/smoketest.py: Fix pythontest and
	  smoketest to expect what I think should be the correct output.
	  smoketest still doesn't pass, sadly, because the PARTIAL option
	  isn't fully implemented for the new scheme yet.

Sun May 13 04:55:30 BST 2007  Olly Betts <olly@survex.com>

	* java/org/xapian/XapianJNI.java,tcl8/docs/bindings.html: "writeable"
	  -> "writable".

Sun May 13 04:50:13 BST 2007  Olly Betts <olly@survex.com>

	* python/docs/bindings.html: "agnositc" -> "agnostic", and capitalise
	  "Xapian" for consistency.

Sat May 12 22:04:07 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: If SWIG has been explicitly specified (in the
	  environment or with `./configure SWIG=xxx') then downgrade the
	  AC_MSG_ERROR() if the version is wrong to a warning.  Also,
	  if no version is read, then say "(you have an unknown version)"
	  rather than "(you have )".

Thu May 10 18:18:32 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* tcl8/except.i: Fix for change to return type of
	  Error::get_type().

Wed May 09 17:20:25 BST 2007  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Add TermGenerator.cs to list of generated C#
	  sources.

Wed May 09 16:44:50 BST 2007  Olly Betts <olly@survex.com>

	* java-swig/Makefile.am: Update for TermGenerator class.
	* ./: Update svn:ignore for TermGenerator class and xapian_wrap.stamp.

Tue May 08 19:58:04 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Fix incorrect second reference to SWIG SVN revision number
	  needed.  Add comment noting what we need perl for.

Tue May 08 19:56:11 BST 2007  Olly Betts <olly@survex.com>

	* xapian.i: %include <xapian/deprecated.h> rather than assuming things
	  about how it is implemented.

Tue May 08 19:37:53 BST 2007  Olly Betts <olly@survex.com>

	* ruby/util.i: Deine SWIG_NO_EXPORT_ITERATOR_METHODS to suppress
	  SWIG's new iterator support for Ruby which we don't use.

Tue May 08 15:59:02 BST 2007  Olly Betts <olly@survex.com>

	* xapian.i: Tell SWIG about XAPIAN_DEPRECATED() earlier so that it
	  copes with XAPIAN_DEPRECATED() being used in xapian/error.h.

Tue May 08 15:50:21 BST 2007  Olly Betts <olly@survex.com>

	* xapian.i: Removed lingering reference to PYTHON_OLDE.

Mon May 07 11:01:28 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* csharp/Makefile.am,java-swig/Makefile.am,php/Makefile.am,
	  python/Makefile.am,ruby/Makefile.am: Fix rules with multiple
	  targets to recover from the removal of one or more of the targets
	  without removing the stamp file, as detailed in the automake
	  manual.

Sun May 06 16:03:12 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Set version to mythical 0.9.99.

Fri May 04 20:00:30 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/smoketest.py,xapian.i: Add TermGenerator to bindings, and
	  a basic python smoketest (which currently fails, I think due to a
	  bug in the TermGenerator).

Fri Apr 27 09:28:48 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Add third overloaded form of parse_query, which allows
	  the "default_prefix" argument to be supplied.

Thu Apr 26 16:48:54 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i: Change quotes on `start` to make epydoc happy.

Thu Apr 26 15:29:10 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i: Change termlist iterators which returned items in
	  which only the term could be accessed to return the term directly.
	  May break some old applications, but all the applications I've
	  seen were just calling the internal iterator to get this
	  behaviour anyway, and ignoring the sequence API method.  Now is
	  the only time this can be cleaned up, really.  Allows idioms like
	  ','.join(enq.matching_terms) to work.
	  Also, change MSet.get_hit() to return an MSetItem instead of an
	  MSetIterator: allows all our work on lazy access to be used.  Add
	  deprecated methods to MSetItem to allow code which was expecting
	  an MSetIterator to work (for now).
	* python/pythontest.py: Change tests not to use deprecated
	  features, except in marked sections designed for that purpose.
	  Test out-of-range access to MSets (used to cause a crash).
	  Adjust tests for termlists which return strings.
	* python/smoketest.py: Change reference to deprecated
	  Enquire.get_matching_terms() to Enquire.matching_terms()

Mon Apr 23 23:10:41 BST 2007  Olly Betts <olly@survex.com>

	* python/smoketest.py,xapian.i: Wrap Enquire::INCLUDE_QUERY_TERMS
	  and Enquire::USE_EXACT_TERMFREQ.

Mon Apr 23 20:48:43 BST 2007  Olly Betts <olly@survex.com>

	* xapian.i: Correct out-of-date comment.

Mon Apr 23 17:20:09 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i: Change code which sets __all__ to non-functional
	  style syntax, because we want to support python 2.2 and 2.3.

Mon Apr 23 15:54:15 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i: Set __docformat__ and __all__ to make output from
	  "help" and tools like epydoc nicer.  __all__ is set by filtering
	  the symbols returned by dir(), so the value it's set to shouldn't
	  need much maintainance.  Setting __all__ also makes it more
	  reasonable to do "from xapian import *", but that's probably not
	  really a good idea in anything but the simplest script.

Mon Apr 23 13:59:03 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/Makefile.am: Add -threads flag to SWIG command when
	  generating python bindings: threads are used in so many python
	  applications these days that we really need to support them.
	  Hopefully fixes bugs #137.

Mon Apr 23 12:58:41 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* README: Mention that PHP now builds with MSVC, and remove comment
	  that Python 2.0 and 2.1 could be made to work - it would be quite
	  hard to do now.

Mon Apr 23 12:56:32 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/testsuite.py: Add extra VERBOSE=3 level, which displays
	  the checks which were performed, even if they passed.  Very
	  useful for debugging code which unexpectedly segfaults.

Mon Apr 23 11:34:47 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/pythontest.py: Test exception which is thrown by a
	  termlist from a freshly created document if the term frequency
	  information is requested.

Mon Apr 23 10:56:23 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i: Change skip_to() methods to return item skipped
	  to, and fix several bugs in them.
	* python/pythontest.py: Test skip_to() for termlists and posting
	  lists.

Mon Apr 23 09:54:45 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i: Fix documentation comments for TermListItem and
	  improve code documentation.  Implement support for lazy
	  evaluation with posting lists.
	* python/pythontest.py: Test legacy sequence API for termlists, and
	  fix small bug in test for document termlists (was passing, but
	  not testing what it was meant to).  Add new test for posting
	  lists.

Sun Apr 22 21:14:46 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i: Add documentation comments for position
	  iterators and value iterators.  Make value iterators return items
	  with attributes, rather than arrays (using _SequenceMixIn to
	  provide legacy interface, as for other iterators).
	* python/pythontest.py: Add tests for value and position iterators.

Sun Apr 22 19:24:32 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* csharp/Makefile.am,php/Makefile.am,python/Makefile.am,
	  ruby/Makefile.am: Add xapian_wrap.stamp files to CLEANFILES when
	  in maintainer mode.

Sun Apr 22 17:50:00 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/pythontest.py: Correct stoplist test to expect correct
	  value.

Sun Apr 22 00:13:56 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i: Add documentation comments for queryparser
	  stoplist and unstemlist.
	* python/pythontest.py: Add tests of stoplist and unstemlist
	  iterators.

Sat Apr 21 20:30:32 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: We require automake 1.9.5 for xapian-core, so require
	  it here too for consistency.  Turn on automake -Wportability option.

Sat Apr 21 11:30:26 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i: Change term iterators so that they can handle
	  WDF and term frequency information either lazily or eagerly.
	  Always handle positionlist information lazily.  Return an error
	  if the iterator has already moved on when a lazily accessed piece
	  of information is requested.  Set access to lazy or eager (or no
	  access) for each item for each type of termlist iterator which
	  can be returned, and document this in the documentation comments.
	  This may impact some users of the legacy sequence API, but is
	  likely to work for typical and reasonable usages of the API.
	  Still needs to be documented in the python binding documentation
	  file.
	* python/pythontest.py: Add tests for term iterators returned by
	  matching terms, Query objects, alltermlists on databases,
	  termlists on database, documents returned from databases, and
	  newly created documents.

Fri Apr 20 15:07:03 BST 2007  Olly Betts <olly@survex.com>

	* csharp/SmokeTest.cs,csharp/docs/bindings.html,
	  java/native/Enquire.cc,xapian.i: Update for change of return type of
	  MatchDecider::operator() and ExpandDecider::operator().  The only
	  change visible in a wrapped language is in C# where the return type
	  also changes from `int' to `bool'.
	* xapian.i: Where directors are supported, also wrap the alternative
	  form of Enquire::get_eset() which doesn't take the flags or k
	  parameters.
	* java-swig/util.i: Rename MatchDecider::operator() and
	  ExpandDecider::operator() to `accept' in Java to match the JNI
	  bindings.
	* java-swig/SmokeTest.java: Uncomment some more of the code which
	  now works.

Fri Apr 20 10:48:36 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* csharp/,ruby/: Ignore generated *.stamp files.

Fri Apr 20 10:46:10 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* csharp/Makefile.am,java-swig/Makefile.am,php/Makefile.am,
	  python/Makefile.am,ruby/Makefile.am: Add intermediate targets in
	  all cases where swig generates multiple output files.

Fri Apr 20 10:37:11 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/Makefile.am: Add intermediate target when running swig, in
	  line with comment recently added to xapian-core/HACKING regarding
	  rules with multiple targets.

Fri Apr 20 00:30:16 BST 2007  Olly Betts <olly@survex.com>

	* java-swig/util.i: Sort out typemap for the "Query from operator
	  and array of Query objects" constructor.
	* java-swig/Makefile.am: Delete the "extra" .class files upon
	  "make clean".  Query$1.class seems to be useless, so don't
	  include it in the .jar.  Use perl to insert a call to load the JNI
	  library automatically before we try to use it since SWIG doesn't
	  seem to do this for us.  Now "make check" passes, but with lots
	  commented out still.

Fri Apr 20 00:16:17 BST 2007  Olly Betts <olly@survex.com>

	* python/Makefile.am: Don't assume Perl is `perl' - use `$(PERL)'
	  instead.

Thu Apr 19 22:37:05 BST 2007  Olly Betts <olly@survex.com>

	* java-swig/util.i: Rename get_description() methods to toString()
	  in Java.

Thu Apr 19 22:34:59 BST 2007  Olly Betts <olly@survex.com>

	* java-swig/Makefile.am: Fix bogus line-break in CLEANFILES.
	  Add xapian_wrap.h to BUILT_SOURCES and swig running rule.

Thu Apr 19 22:34:28 BST 2007  Olly Betts <olly@survex.com>

	* xapian.i: Query::get_description() is actually const.

Thu Apr 19 18:20:59 BST 2007  Olly Betts <olly@survex.com>

	* java-swig/Makefile.am: Handle the extra .class files generated by
	  nested classes.

Thu Apr 19 14:45:19 BST 2007  Olly Betts <olly@survex.com>

	* Makefile.am,configure.ac,java-swig/,xapian.i: First cut of Java
	  bindings built using SWIG.  Numerous things aren't wrapped in
	  a compatible way (not sure if we can sensibly be 100% compatible
	  anyway though) and 'make check' fails to run, but this has
	  reached the stage where version control is needed.

Thu Apr 19 00:41:25 BST 2007  Olly Betts <olly@survex.com>

	* ruby/docs/bindings.html: Note that C++ operator() becomes
	  call in Ruby.

Wed Apr 18 23:35:52 BST 2007  Olly Betts <olly@survex.com>

	* ruby/util.i: Remove '%ignore' for deprecated methods we've now
	  removed.

Wed Apr 18 23:32:35 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i,python/pythontest.py: Fix legacy sequence API for
	  eset items.

Wed Apr 18 23:31:39 BST 2007  Olly Betts <olly@survex.com>

	* csharp/Makefile.am,java/org/xapian/Enquire.java,
	  java/org/xapian/XapianJNI.java,ruby/util.i,xapian.i:
	  Update for removal of Enquire::set_bias().

Wed Apr 18 17:09:22 BST 2007  Olly Betts <olly@survex.com>

	* guile/util.i,python/extra.i,python/util.i,ruby/util.i,tcl8/except.i,
	  tcl8/util.i: Sort out vim magic comments for all .i files.

Wed Apr 18 16:41:37 BST 2007  Olly Betts <olly@survex.com>

	* python/: svn:ignore doccomments.i.

Wed Apr 18 16:18:45 BST 2007  Olly Betts <olly@survex.com>

	* csharp/util.i,generic/except.i: Move C# specific exception stuff
	  into C# specific file.i.
	* csharp/util.i: Add vim magic to use C++ highlighting (not perfect as
	  this file also contains C# code, but better than vim's default for a
	  .i files).

Wed Apr 18 15:54:29 BST 2007  Olly Betts <olly@survex.com>

	* python/util.i: Use %inline to avoid duplicating MSET_DID, etc.  Set
	  C++ syntax for vim.

Wed Apr 18 15:37:20 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/doxy2swig.py.in: Fix issue with output from newer version
	  of Doxygen which puts <ref/> nodes inside <parametername/> nodes.

Wed Apr 18 02:34:53 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i: Improve various documentation comments.  Allow
	  _SequenceMixIn to have default values for some parameters,
	  instead of doing a lookup, to allow termlists and posting lists
	  to return the fake values returned by the old sequence API.  Add
	  termlist iterators, and link them into the Enquire.matching_terms
	  method.
	* python/pythontest.py: Add a check that xapian exceptions have
	  Exception as a base class.  Also, add a test of the new
	  Enquire.matching_terms term iterators.

Wed Apr 18 02:12:31 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* README: Add comment about using gmcs and mcs.

Wed Apr 18 02:01:43 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Prefer gmcs to mcs when looking for a C# compiler
	  since gmcs is the newer compiler targetting the 2.0 runtime.

Wed Apr 18 01:12:39 BST 2007  Olly Betts <olly@survex.com>

	* csharp/util.i: Remove renaming exception for get_term - the
	  automatic naming will handle that correctly.

Wed Apr 18 00:29:57 BST 2007  Olly Betts <olly@survex.com>

	* java/native/Enquire.cc,java/native/Stem.cc: Update to use new
	  C++ replacements for deprecated methods.  The Java wrappers
	  still provide the old deprecated names for now though.
	* ruby/smoketest.rb: For now, use @stem.call("foo").
	* ruby/util.i,xapian.i: Remove wrappers for deprecated methods and
	  functions.

Wed Apr 18 00:15:40 BST 2007  Olly Betts <olly@survex.com>

	* python/Makefile.am: Need to distribute testsuite.py.

Tue Apr 17 23:23:44 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/util.i: add __str__ methods as aliases for the
	  get_description() methods, and deprecate the get_description()
	  methods.

Tue Apr 17 22:41:40 BST 2007  Olly Betts <olly@survex.com>

	* python/docs/examples/simpleexpand.py: Replace use of deprecated
	  RSet::is_empty() with RSet::empty().

Tue Apr 17 21:02:52 BST 2007  Olly Betts <olly@survex.com>

	* php/util.i,xapian.i: We need to keep is_empty() for PHP as empty()
	  clashes with a reserved word!  Refactor to use %rename in php/util.i
	  instead of %ignore on empty() and a special is_empty() wrapper in
	  xapian.i.
	* php/docs/bindings.html: Document renaming of empty() to
	  is_empty() and clone() to clone_object().

Tue Apr 17 19:57:03 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Fix comment typo.

Tue Apr 17 19:20:42 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* csharp/Makefile.am: Add Flint.cs to list of generated files, so
	  it gets cleaned and added to dist.

Tue Apr 17 16:34:27 BST 2007  Olly Betts <olly@survex.com>

	* ruby/xapian.rb: Don't read termfreq in safe wrapper for
	  Document::termlist_begin().  Don't read wdf in safe wrapper
	  for Database::allterms_begin().  Fixes bug#133.

Tue Apr 17 14:51:10 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* csharp/SmokeTest.cs,csharp/docs/examples/SimpleIndex.cs,
	  csharp/docs/examples/SimpleSearch.cs: Change references to
	  stem.StemWord() to stem.Apply()

Tue Apr 17 14:30:10 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* php/docs/examples/,php/smoketest.php,
	  tcl8/docs/examples/simpleindex.tcl,
	  tcl8/docs/examples/simplesearch.tcl,tcl8/smoketest.tcl:
	  Replace references to deprecated stem.stem_word() with stem.apply()

Tue Apr 17 10:14:01 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/docs/examples/,python/smoketest.py: Change references to
	  stem.stem_word() to stem()

Tue Apr 17 08:57:23 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/testsuite.py: Run tests in predicatable order, by sorting
	  the list of tests if it's supplied as a dictionary.

Mon Apr 16 18:35:36 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/docs/bindings.html,python/docs/examples/simpleexpand.py:
	  Document ESetIterator::get_term() instead of
	  ESetIterator::get_termname()

Mon Apr 16 18:32:37 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* csharp/util.i,php/docs/examples/simpleexpand.php4,
	  php/docs/examples/simpleexpand.php5: Change to use get_term()
	  instead of get_termname().
	* php/docs/bindings.html,ruby/docs/bindings.html,
	  tcl8/docs/bindings.html: Document ESetIterator::get_term()
	  instead of ESetIterator::get_termname()

Mon Apr 16 18:27:39 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Add ESetIterator::get_term() as alias for now
	  ESetIterator::get_termname(), and mark the old get_termname as
	  deprecated.  Tidy up all comments about deprecated functions,
	  giving the version they were deprecated in.

Mon Apr 16 11:16:48 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i,python/pythontest.py: Add nicer ESet iterators,
	  and tests for them.

Mon Apr 16 01:08:30 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i,python/pythontest.py,xapian.i: Add access to the
	  collapse_key() method of mset iterators.  Add it to the new-style
	  python MSet iterator, and test it.  Add documentation strings for
	  describing the python MSetItem properties and attributes.

Mon Apr 16 00:23:20 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i: Rework MSet iterators: they now return an
	  MSetItem object instead of a sequence. The sequence API is
	  emulated with a _SequenceMixIn baseclass. The MSetItem object
	  allows access to all the properties returned in the list
	  previously returned, and also allows access to the collapse_count
	  property.  In addition, it evaluates the document property
	  lazily, so no work is done if we don't actually want to read it.
	  Also, add support for __getitem__ on MSet items to access items
	  in the MSet in a more pythonic way, and implement the other
	  sequence methods "__len__" and "__contains__".
	* python/: Ignore some generated files.
	* python/Makefile.am: Add pythontest.py and extracomments.py
	* python/pythontest.py: New testsuite for Python-specific code.

Mon Apr 16 00:19:16 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/doxy2swig.py.in: Don't add information about C++ includes
	  to docstrings - not useful to anyone.
	* python/extracomments.i: Add a new file to hold docstrings which
	  override the automatically generated ones, or fill in gaps.  There
	  are going to be quite a few of these eventually, so best to keep
	  thee separate from the other code from the start.
	* python/util.i: Include extracomments.i

Mon Apr 16 00:14:31 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/testsuite.py: Enhance and refactor the testsuite - it now
	  supports the same environment variables that the C++ testsuite
	  does, uses a little colour to highlight successes and failures,
	  and has different levels of verbosity.  In line with the C++
	  testsuite, it is not verbose by default, but it does display a
	  message describing how to turn the verbosity up.
	* python/docs/bindings.html: Document the test suite a little, fix
	  a typo, and mention the work in progress on the iterators.  (Will
	  need more detailed revision once the work is completed.)

Sun Apr 15 23:31:41 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/doxy2swig.py.in: For methods, if there is a
	  briefdescription node, output it first so that the short summary
	  describes the purpose of the method, rather than being the C++
	  signature.

Sun Apr 15 18:09:14 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/smoketest.py,python/testsuite.py: Enhance testsuite to
	  allow multiple test functions, and to format output similarly to
	  C++ testsuite (including ANSI colour on output devices which
	  support it).  Colours can be disabled explicitly using
	  XAPIAN_TESTSUITE_OUTPUT=plain, and verbose output can be turned
	  on by setting VERBOSE=1.

Sun Apr 15 00:21:30 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i: Change to using new-style classes for pure python
	  code, since we're depending on python >= 2.2 now.

Sun Apr 15 00:13:28 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/smoketest.py,python/testsuite.py: Refactor code for
	  running the python tests into a separate file, so it can be used
	  for a separate set of python-specific tests.

Fri Apr 13 16:30:56 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/doxy2swig.py.in: Add script to generate doccomments.i file
	  from XML output of doxygen.  Adds much useful documentation to
	  the python bindings (it's still quite messy, but much better than
	  nothing).  Unfortunately, a bug in SWIG means that not all the
	  documentation is visible - I've put a patch at
	  http://sf.net/tracker/index.php?func=detail&aid=1700146&group_id=1645&atid=301645
	* python/util.i: Include generated doccomments.i file.
	* configure.ac: Add rules to generate python/doxy2swig.
	* python/Makefile.am: Rules to generate and depend on doccomments.i

Fri Apr 13 13:40:03 BST 2007  Olly Betts <olly@survex.com>

	* python/extra.i: Only read wdf for termlists which actually support
	  it.  This was failing for alltermslist in a debug build, and now
	  fails with InvalidOperationError in all builds.

Thu Apr 12 17:56:05 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Parse the visibility support header file, so we don't
	  get errors when we %include other xapian headers.  Fixes error
	  reported by python/except.i, which has a line saying
	  %include "xapian/error.h"

Wed Apr 11 13:42:56 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/smoketest.py: Add the custom test failure messages back,
	  and revert changes to tests which I made (which will be going
	  into a custom python-specific test file in time).  When a test
	  fails, display context of the test failure together with the
	  Xapian version and platform information.

Wed Apr 11 10:30:46 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/smoketest.py: Replace cut-and-pasted test checking code
	  with functions, to simplify tests.

Tue Apr 10 20:10:31 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/smoketest.py: Remove check for version Python version 2.2
	  before running iterator tests - we no longer support earlier
	  versions of Python.

Sun Apr 08 19:11:05 BST 2007  Olly Betts <olly@survex.com>

	* python/docs/bindings.html: Python 2.2 is the minimum required
	  version so remove "Provided you're using Python 2.2 or newer".

Thu Apr 05 10:38:37 BST 2007  Olly Betts <olly@survex.com>

	* php/util.i: Avoid undefined behaviour in get_matching_terms().
	  This fixes the problem reported by Daniel Ménard under MSVC.

Wed Apr 04 13:30:11 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Look for jni.h in $JAVA_HOME/include and
	  $JDK_HOME/include if the respective variables are set.

Wed Apr 04 13:07:12 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: When passing $SWIG, $PERL, etc to AC_PATH_PROGS
	  quote them to avoid splitting at spaces (paths with spaces still
	  won't work here, but at least you should now be able to pass
	  SWIG='swig -fakeversion 1.3.32' or similar (only do this if you're
	  happy to accept the consequences in this particular case!)  Also
	  if the user specifies a program which doesn't exist (e.g.
	  PYTHON=/opt/bin/ptyhon) don't autoprobe after failing to find it
	  (this still happens in a few cases, but the easy ones should now
	  be fixed).

Wed Apr 04 11:19:03 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Bump version to 0.9.10.1 so snapshots don't look older
	  than releases.  Note that SWIG SVN rev >= 9670 is now required for
	  the PHP5 ZTS MSHUTDOWN fix.

Wed Apr 04 10:31:34 BST 2007  Olly Betts <olly@survex.com>

	* php/util.i: Revert last change - I'm fixing this in SWIG and calling
	  ts_free_id twice is likely to be a bad idea.

Wed Apr 04 10:21:37 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* php/util.i: Add %mshutdown section to allow cleanup properly for
	  windows builds (or other builds with ZTS).

Wed Apr 04 07:33:53 BST 2007  Olly Betts <olly@survex.com>

	* INSTALL: Add details for how to install Ruby bindings in your home
	  directory.

Wed Apr 04 07:31:37 BST 2007  Olly Betts <olly@survex.com>

	* ./,csharp/,ruby/,java/,php/,guile/,tcl8/,generic/: svn:ignore all
	  vim swapfiles.

Wed Apr 04 07:29:08 BST 2007  Olly Betts <olly@survex.com>

	* xapian.i: Add vim magic comment at the end to get sane syntax
	  highlighting automatically.

Wed Apr 04 07:24:48 BST 2007  Olly Betts <olly@survex.com>

	* generic/except.i: Fix pathname in first comment.  Dug through
	  the SVN history to reveal who has actually worked on this code
	  so updated the (C) lines.

Wed Apr 04 06:45:44 BST 2007  Olly Betts <olly@survex.com>

	* python/: Oops, it's "except.i" not "exceptions.i".

Wed Apr 04 06:42:27 BST 2007  Olly Betts <olly@survex.com>

	* python/: svn:ignore exceptions.i and all vim swapfiles (not just the
	  first for a given files).

Tue Apr 03 17:52:54 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/util.i: Add typemap to allow strings to be returned by
	  implementations of director methods which expect strings:
	  currently this is only the get_description() method of a Stopper
	  subclass, which is never actually called by C++, but this might
	  be more generally useful in future, and covers the last point
	  where Python strings can get passed to C++.
	* python/smoketest.py: Add some tests that the stoppers work as
	  expected.

Tue Apr 03 13:54:16 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/util.i: Add typemap for checking string type in overloaded
	  functions, allowing unicode strings to be passed to binary Query
	  constructor.  Also add "freearg" typemap corresponding to the
	  "in" typemap for string references, which doesn't change the
	  output code but might make us more robust against future changes
	  in the SWIG library.
	* python/smoketest.py: Test binary Query constructor with unicode
	  strings.

Tue Apr 03 10:40:51 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/util.i:  Add some (fairly nasty) typedefs which handle
	  almost all cases where a string object is supplied to an API
	  function, and make them convert unicode strings to UTF-8 encoded
	  simple strings automatically.  There are three places left in the
	  API which aren't covered by these typedefs, and will require
	  individual handling.  The typedefs are largely the same as the
	  built-in typedefs for string handling, but point to a different
	  wrapper function which performs the unicode conversion before
	  calling the normal string-to-ptr conversion.  Sadly, I can't see
	  any way to modify the built-in typedefs for string handling
	  without reproducing them as I have here, but if it is possible to
	  just cause them to point at a different string-to-ptr routine,
	  that would be desirable.
	* python/smoketest.py: Add tests for some of the functions which
	  should accept unicode strings.
	* python/docs/bindings.html: Document how unicode handling is
	  intended to work.  Also document how to normalise unicode strings
	  with the unicodedata module to make them ready to pass to Xapian.

Tue Apr 03 05:19:52 BST 2007  Olly Betts <olly@survex.com>

	* xapian.i: Replace Xapian::Stem with "%include <xapian/stem.h>" and
	  suitable %ignore directives.  The generated code for all bindings
	  is unchanged except for minor changes due to the old xapian.i
	  failing to declare Stem::stem_word as "const".

Mon Apr 02 14:50:05 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/util.i: Convert unicode strings to
	  UTF-8 strings in handler for strings in the sequence supplied to
	  a Query constructor.
	* python/smoketest.py: Refactor repeated code which checks that a
	  query description is as expected into a function, and add some
	  checks of query constructors using unicode strings.
	* python/generate-python-exceptions.in: Add a catch clause for
	  exceptions raised by the standard library.

Sun Apr 01 23:05:10 BST 2007  Olly Betts <olly@survex.com>

	* xapian.i: Update SimpleStopper::add() parameter type.

Sat Mar 31 13:28:03 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/docs/bindings.html: Update documentation on exception
	  handling.

Sat Mar 31 11:47:14 BST 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/Makefile.am: Postprocess the generated python file
	  "modern/xapian.py" to make the Error class inherit from the
	  standard Exception class, so that scripts can catch all
	  exceptions which are sensible to catch using the standard idioms.
	  Use perl rather than sed for this processing so that we can use
	  exactly the same rule in the windows build system.

Tue Mar 27 21:40:22 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: datarootdir is new in 2.60 too, so use datadir when
	  setting docdir for 2.59.

Tue Mar 27 21:36:10 BST 2007  Olly Betts <olly@survex.com>

	* python: svn:ignore generate-python-exceptions.

Tue Mar 27 21:34:05 BST 2007  Olly Betts <olly@survex.com>

	* configure.ac: Ensure docdir is set for compatibility with autoconf
	  2.59.
	* csharp/docs/Makefile.am,php/docs/Makefile.am,
	  python/docs/Makefile.am,ruby/docs/Makefile.am,tcl8/docs/Makefile.am:
	  Install docs and examples below $(docdir).

Sat Mar 24 02:19:50 GMT 2007  Olly Betts <olly@survex.com>

	* xapian.i: Only wrap methods (or overloaded forms of methods) which
	  take MatchDecider or ExpandDecider for languages where SWIG supports
	  directors.

Sat Mar 24 02:19:13 GMT 2007  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Update list of generated .cs files now
	  ExpandDecider is wrapped.

Sat Mar 24 00:36:26 GMT 2007  Olly Betts <olly@survex.com>

	* python/smoketest.py,xapian.i: Wrap ExpandDecider for languages where
	  SWIG supports directors (patch from William R Sowerbutts).

Sat Mar 24 00:02:36 GMT 2007  Olly Betts <olly@survex.com>

	* python/docs/examples/simpleexpand.py: Print the document weight as
	  a floating point value, not an integer.

Fri Mar 23 23:53:10 GMT 2007  Olly Betts <olly@survex.com>

	* Forwardport change from branches/0.9:
	* configure.ac: Require unreleased SWIG 1.3.32 (SVN rev 9651) for
	  bootstrapping.

Thu Mar 22 01:28:48 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac: Eliminate libtool probe code for f77, gcj, and rc
	  which speeds up configure and knocks 28% off its size.

Tue Mar 20 19:00:13 GMT 2007  Olly Betts <olly@survex.com>

	* php/docs/bindings.html: Add note that PHP examples are written for
	  CLI version of PHP, but that the bindings work with any version.
	* php/docs/examples/: Add check to all PHP examples that they are
	  being run under a CLI version of PHP.

Fri Mar 09 14:14:47 GMT 2007  Richard Boulton <richard@lemurconsulting.com>

	* swig/xapian.i,xapian.i: Move swig/xapian.i back to top level.
	  Olly prefers it here, and I don't really mind.
	* swig/defaults/except.i,generic/except.i: Move file.
	* swig/Makefile.mk,generic/generic.mk: Move file, and point to
	  new locations of source files.
	* csharp/Makefile.am,ruby/Makefile.am,python/Makefile.am,
	  php/Makefile.am,tcl8/Makefile.am: Include generic/generic.mk
	  instead of swig/Makefile.mk
	* configure.ac: Look for xapian.i, not swig/xapian.i, in
	  AC_CONFIG_SRCDIR
	* Makefile.am: Point to new locations of files.

Fri Mar 09 13:07:41 GMT 2007  Richard Boulton <richard@lemurconsulting.com>

	* python/generate-python-exceptions.in: New file - generates a
	  python/except.i file from the exception_data.pm file in
	  xapian-core.  Only use in maintainer mode - requires the
	  xapian-core module to exist in the same directory as the
	  xapian-bindings module (eg, as would happen in a SVN checkout).
	  This file changes the handling of xapian exceptions in the Python
	  bindings - they are now translated into Python exception classes
	  in a hierarchy matching that of the C++ exception hierarchy.
	* configure.ac: Require perl in maintainer mode, and add rules to
	  generate python/generate-python-exceptions
	* python/Makefile.am: Add except.i to distribution, and add rules
	  to generate and use it in maintainer mode.
	* python/smoketest.py: Change tests to expect xapian.Error
	  subclasses.

Fri Mar 09 12:53:54 GMT 2007  Richard Boulton <richard@lemurconsulting.com>

	* tcl8/except.i: Tweak to add the license statement back into
	  generated xapian_wrap.cc.  Not sure if this is really desirable,
	  but it's consistent with the earlier behaviour (and with what
	  happens to other license statements from *.i files).

Fri Mar 09 03:15:36 GMT 2007  Olly Betts <olly@survex.com>

	* csharp/util.i: Eliminate duplicated SWIG directive
	  "%rename("GetValueNo") get_valueno;"

Wed Mar 07 22:33:52 GMT 2007  Richard Boulton <richard@lemurconsulting.com>

	* php/except.i,swig/defaults/except.i: Split the PHP exception
	  handling into a new file, since almost half the original file was
	  conditionally compiled for PHP.
	* php/Makefile.am: Add php/except.i to dist and dependencies.

Wed Mar 07 21:49:52 GMT 2007  Richard Boulton <richard@lemurconsulting.com>

	* tcl/except.i: New file, overriding swig/defaults/except.i for tcl.
	* tcl/util.i: Remove exception handling stuff - moved to except.i.
	  No longer sets XAPIAN_EXCEPTION_HANDLER - presence of except.i has
	  similar effect.
	* tcl/Makefile.am: Add except.i to dist and dependencies.
	* swig/defaults/except.i: Remove checking of XAPIAN_EXCEPTION_HANDLER:
	  no longer needed.  Also, tweak comments (add licence and copyright;
	  copyright is just copied from xapian.i, which this file was split
	  from, and may thus claim copyright for people who never worked on
	  this exact code).  Also, fix whitespace.

Wed Mar 07 16:35:13 GMT 2007  Richard Boulton <richard@lemurconsulting.com>

	* Makefile.am: Add swig/defaults/except.i to EXTRA_DIST.
	* swig/Makefile.mk: Add swig/defaults/except.i to SWIG_sources, and
	  add swig/defaults/ to SWIG_includes, after language specific
	  path entry (so language specific except.i files can be created to
	  override the contents of swig/defaults/except.i).
	* swig/xapian.i,swig/defaults/except.i: Move the exception handling
	  code out of swig/xapian.i and into swig/defaults/except.i

Wed Mar 07 16:16:54 GMT 2007  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i,swig/xapian.i: Move swig source file to a subdirectory,
	  in preparation for splitting the language dependent stuff out.
	  This commit shouldn't change the result of running swig.
	* swig/Makefile.mk: New makefile fragment, included by each
	  language-specific SWIG-using Makefile.am, which defines the paths
	  and flags to use when running SWIG.  Also contains the
	  MACOSX_DEPLOYMENT_TARGET stuff which was previously replicated in
	  each SWIG-using Makefile.am
	* csharp/Makefile.am,ruby/Makefile.am,python/Makefile.am,
	  php/Makefile.am,guile/Makefile.am,tcl8/Makefile.am: Include
	  swig/Makefile.mk to get the path to the language independent swig
	  sources, and standard paths and flags to supply to SWIG.  Update
	  dependencies and rules for generating the xapian_wrap.cc files to
	  use the values from swig/Makefile.mk.  Remove the
	  MACOSX_DEPLOYMENT_TARGET stuff (now in swig/Makefile.mk).
	* configure.ac: Reference swig/xapian.i from AC_CONFIG_SRCDIR
	  instead of xapian.i
	* Makefile.am: Reference swig/xapian.i in EXTRA_DIST
	  instead of xapian.i

Tue Mar 06 01:56:36 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac: Bump version number to 0.9.10 so that snapshots don't
	  look older than releases.

Tue Mar 06 01:54:00 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac: Make the version check against the xapian-core version
	  a warning not an error, and move it later on so it's harder for the
	  user to miss.  If you know what you're doing, it might be a useful
	  thing to want to do.

Sat Mar 03 04:23:26 GMT 2007  Olly Betts <olly@survex.com>

	* php/docs/Makefile.am,php/docs/bindings.html,php/docs/examples/:
	  Update the documentation and examples to fix out-of-date information
	  and document the differences between the PHP4 and PHP5 wrappers.
	* php/docs/example/simpleexpand.php4,
	  php/docs/example/simpleexpand.php5: Add versions of simpleexpand.

Sat Mar 03 04:17:07 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac: Fix handling of `$PHP_CONFIG --php-binary` - if it's
	  not supported, we get a usage message on stdout which we don't want
	  to try as a potential PHP interpreter!

Sat Mar 03 03:34:12 GMT 2007  Olly Betts <olly@survex.com>

	* xapian.i: Don't hardcode the current literal numeric values
	  for DB_CREATE_OR_OPEN, etc.
	* xapian.i: For PHP4, additionally define Xapian_DB_CREATE_OR_OPEN
	  which will be the recommended name to use.

Sat Mar 03 03:32:05 GMT 2007  Olly Betts <olly@survex.com>

	* php/smoketest.php: Add a testcase for the "SWIG didn't generate
	  correct dispatch code in the wrapper in some cases" bug which
	  I've just fixed.

Sat Mar 03 03:29:56 GMT 2007  Olly Betts <olly@survex.com>

	* php/smoketest5.php: Add the Error class name to differentiate the
	  two previously identical error messages.

Fri Mar 02 20:09:55 GMT 2007  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Remove Muscat36.cs.

Fri Mar 02 19:49:12 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac: Try `$(PHP_CONFIG) --php-binary` when looking for a
	  PHP interpreter - this works with PHP5.

Fri Mar 02 19:00:52 GMT 2007  Olly Betts <olly@survex.com>

	* xapian.i: Remove Muscat 3.6 wrappers as support has already been
	  removed from xapian-core.

Fri Mar 02 02:22:12 GMT 2007  Olly Betts <olly@survex.com>

	* xapian-bindings.spec.in: Add support for passing "--without python"
	  to rpmbuild.  Document the various "--without" options in a comment
	  at the start of the .spec file.

Tue Feb 20 12:48:22 GMT 2007  Olly Betts <olly@survex.com>

	* xapian.i: QueryParserError is now a real error, so remove
	  special handling for "const char *" exceptions.

Sat Feb 10 01:19:26 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac,java/README,java/native/Makefile.am: On MacOS X, we
	  need to rename the jni library to .jnilib.
	* java/README: MacOS X's JVM is documented to understand
	  -Djava.library.path - the problem reported was likely due to the
	  wrong extension on the jni library.

Sat Feb 10 00:23:19 GMT 2007  Olly Betts <olly@survex.com>

	* configure.ac: Automatically look in the standard OS X JVM location
	  for jni.h.
	* java/README: Document how to install the jni library on OS X.

Sat Dec 30 14:40:22 GMT 2006  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Add queryparser flags FLAG_PURE_NOT and FLAG_PARTIAL.
	* python/smoketest.py: Add tests for pure not and partial queries.

Sat Dec 23 00:41:01 GMT 2006  Olly Betts <olly@survex.com>

	* java/native/org_xapian_XapianJNI.h,java/native/xapian_jni.h:
	  Move header guards to surround the entire non-comment contents
	  of the header files, which allows the compiler to optimise
	  multiple inclusion (at least GCC does this).

Sat Dec 23 00:38:49 GMT 2006  Olly Betts <olly@survex.com>

	* java/native/Enquire.cc,java/native/org_xapian_XapianJNI.h,
	  java/org/xapian/Enquire.java,java/org/xapian/XapianJNI.java:
	  Enquire::getQuery() is implemented entirely in Java, so strip out
	  the unused MyQuery mechanism, and so fix a memory link which it
	  caused.  Fixes the rest of bug#105.
	* java/SmokeTest.java: Add feature test for Enquire::getQuery().

Fri Dec 22 18:48:46 GMT 2006  Olly Betts <olly@survex.com>

	* java/native/Query.cc: Release the array in the "Query from array"
	  ctor to avoid a memory leak.  Partly fixes bug#105.

Fri Dec 22 18:30:44 GMT 2006  Olly Betts <olly@survex.com>

	* java/SmokeTest.java: Check getData() on the document in
	  MyMatchDecider returns a non-empty string to make sure we are really
	  getting the right document and not an empty document.

Sat Dec 16 02:14:50 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac: Remove the sanity check for PHP_EXTENSION_DIR
	  added in Xapian 0.9.8 - if this is the first PHP extension to be
	  installed, the extension directory may not exist and "make install"
	  will create it.
	* configure.ac: If zend.h isn't found and configure was run with
	  "--with-php" we now die rather than disabling PHP support.

Fri Dec 15 16:47:13 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac: Remove --with-swig option from configure - it no
	  longer has a purpose as we now ship the files which are generated
	  by SWIG.

Tue Dec 12 21:51:23 GMT 2006  Richard Boulton <richard@lemurconsulting.com>

	* python/extra.i: Fix PostingIter for all-document iterators - was
	  broken because positionlist_begin() throws an exception for
	  all-document iterators.  Fixed by keeping track of this and
	  returning an empty list for positionlits iterators, in the same
	  way as TermIter does.
	* python/smoketest.py: Add test for all-document iterators.

Mon Dec 11 04:01:19 GMT 2006  Olly Betts <olly@survex.com>

	* java/Makefile.am: "make clean" now needs to remove
	  MyMatchDecider.class and MyExpandDecider.class which are generated
	  from SmokeTest.java.

Fri Dec 08 04:13:32 GMT 2006  Olly Betts <olly@survex.com>

	* java/SmokeTest.java: Add feature/regression test for ExpandDecider
	  which also now works thanks to the last checkin.

Fri Dec 08 04:11:01 GMT 2006  Olly Betts <olly@survex.com>

	* java/native/Enquire.cc: Fix MatchDecider to work.
	* java/SmokeTest.java: Add feature/regression test for MatchDecider
	  subclassing.

Thu Dec 07 02:25:25 GMT 2006  Olly Betts <olly@survex.com>

	* java/native/Enquire.cc: Fix MatchDecider and ExpandDecider to look
	  for an "accept" method with the correct signature (bool return value
	  not int).  Reported by Alex Kushkuley.

Thu Dec 07 02:08:56 GMT 2006  Olly Betts <olly@survex.com>

	* java/org/xapian/ESetIterator.java: Fix bug in ESetIterator.hasNext()
	  reported by Alex Kushkuley.
	* java/SmokeTest.java: Add regression test.

Mon Dec 04 03:31:36 GMT 2006  Olly Betts <olly@survex.com>

	* java/SmokeTest.java,java/native/Enquire.cc,
	  java/org/xapian/Enquire.java: Fit Enquire.getESet() to be callable.

Mon Dec 04 03:22:35 GMT 2006  Olly Betts <olly@survex.com>

	* java/SmokeTest.java,java/org/xapian/RSet.java: Add missing default
	  constructor for RSet class - it's not much use without this!

Thu Nov 16 04:01:23 GMT 2006  Olly Betts <olly@survex.com>

	* xapian-bindings.spec.in: Remove "." from the end of the Summary.

Thu Nov 16 03:05:09 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac: As of xapian-core 0.8.0, XO_LIB_XAPIAN doesn't need to
	  be called with arguments if you want a hard requirement on xapian,
	  so remove the arguments.

Wed Nov 15 19:55:57 GMT 2006  Olly Betts <olly@survex.com>

	* java/README: Note success with Sun's JDK 1.5.0_06-b05, plus the
	  requirement to add the linux header directory to the include path.

Sun Nov 12 22:40:06 GMT 2006  Olly Betts <olly@survex.com>

	* NEWS: Update from ChangeLog file in preparation for branching and
	  merging.

Sun Nov 12 21:35:42 GMT 2006  Olly Betts <olly@survex.com>

	* python/util.i: Need to use Py_ssize_t for length with
	  PyString_AsStringAndSize() so the build with Python 2.5.

Thu Nov 09 00:23:27 GMT 2006  Olly Betts <olly@survex.com>

	* NEWS,configure.ac: Update for 0.9.9.

Wed Nov 08 22:47:56 GMT 2006  Olly Betts <olly@survex.com>

	* xapian-bindings.spec.in: We now require Python >= 2.2.

Wed Nov 08 22:47:00 GMT 2006  Olly Betts <olly@survex.com>

	* xapian-bindings.spec.in: Run "autoreconf --force" to avoid rpath on
	  x86_64 FC6.

Tue Nov 07 03:48:42 GMT 2006  Olly Betts <olly@survex.com>

	* xapian.i: Wrap Flint::open() and Flint::open_writable().

Mon Nov 06 01:41:08 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac: Require SWIG 1.3.30 (1.3.30 isn't out yet, but
	  1.3.30rc1 is suitable).
	* configure.ac: Remove unnecessary backticks from tclsh version test.

Thu Nov 02 19:09:49 GMT 2006  Olly Betts <olly@survex.com>

	* NEWS,configure.ac: Update for 0.9.8.

Thu Nov 02 17:54:41 GMT 2006  Olly Betts <olly@survex.com>

	* tcl8/run-tcl-test: Fix to work when /bin/sh is dash.
	* tcl8/util.i: Add handling for QueryParser std::string exceptions.
	  Fix handling of unknown errors.
	* tcl8/smoketest.tcl: Add test.

Thu Nov 02 13:43:31 GMT 2006  Olly Betts <olly@survex.com>

	* csharp/SmokeTest.cs: Test QueryParser parse error.  Fix warning
	  about unused variable in OP_ELITE_SET check.

Tue Oct 31 02:01:43 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac: Sanity check PHP_EXTENSION_DIR and PHP_INC.

Tue Oct 31 01:45:45 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac: Now tested on MacOS X 10.2, so update comment.

Sat Oct 28 08:40:46 BST 2006  Richard Boulton <richard@lemurconsulting.com>

	* python/smoketest.py: Add test to check QueryParser error
	  handling.

Sat Oct 28 03:40:39 BST 2006  Olly Betts <olly@survex.com>

	* xapian.i: QueryParser::parse_query() throws const char *, not
	  std::string.  Make these exceptions look as if they are of
	  type QueryParserError so this works the same way as 1.0 will.
	  Also, return as SWIG_RuntimeError rather than SWIG_UnknownError - in
	  particular so PHP4 turns this exception into a trappable warning
	  rather than a hard error.
	* php/smoketest4.php,php/smoketest5.php: Add tests for the above.
	  Also check the exception message given by the DocNotFoundError
	  testcase.

Fri Oct 27 11:28:48 BST 2006  Richard Boulton <richard@lemurconsulting.com>

	* xapian.i: Catch exceptions of type "std:string", since the query
	  parser currently throws these.  This should probably be fixed in
	  the query parser for release 1.0, but this fix prevents crashes
	  due to these exceptions in a backwards compatible manner.

Sun Oct 22 02:41:09 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: Fix check for jni.h in /usr/lib/jvm/java-gcj/include
	  to actually work rather than using the cached failure of the first
	  jni.h check.

Sun Oct 22 02:29:09 BST 2006  Olly Betts <olly@survex.com>

	* java/SmokeTest.java: Fix check for value of Query.OP_ELITE_SET.
	* java/SmokeTest.java: Avoid gcj "set but not used" warning.

Sat Oct 21 20:34:30 BST 2006  Olly Betts <olly@survex.com>

	* xapian.i: Wrap the "prog" form of Remote::open() (which is
	  suitable for general purpose use as of 0.9.7) and the
	  Remote::open_writable() methods (new in 0.9.7).

Mon Oct 16 11:16:46 BST 2006  Olly Betts <olly@survex.com>

	* python/Makefile.am: Fix Python VPATH build to work again.

Mon Oct 16 01:39:37 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: Note that SWIG is only useful for Xapian developers.

Mon Oct 16 01:31:30 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: If we failed to find any languages to build for, give
	  a more helpful message.

Sun Oct 15 17:55:21 BST 2006  Olly Betts <olly@survex.com>

	* python/Makefile.am: Fix to work again in VPATH SVN checkout builds.

Sun Oct 15 01:41:44 BST 2006  Olly Betts <olly@survex.com>

	* README,configure.ac,python/Makefile.am: Drop support for Python 2.1.

Wed Oct 11 00:17:49 BST 2006  Olly Betts <olly@survex.com>

	* NEWS: Remove empty "Portability:" subheading.

Tue Oct 10 22:08:21 BST 2006  Olly Betts <olly@survex.com>

	* csharp/Makefile.am,csharp/util.i,python/util.i,ruby/util.i,xapian.i:
	  SWIG_DIRECTOR_TYPEMAPS isn't a reliable thing to test it appears, so
	  define XAPIAN_SWIG_DIRECTORS ourselves for languages where SWIG
	  supports directors and we are able to make use of them.

Tue Oct 10 17:15:43 BST 2006  Olly Betts <olly@survex.com>

	* NEWS,configure.ac: Updated for 0.9.7.

Tue Oct 10 17:04:40 BST 2006  Olly Betts <olly@survex.com>

	* csharp/Makefile.am,guile/Makefile.am,tcl8/Makefile.am: In
	  maintainer-mode, "make clean" should remove the SWIG generated files
	  which would otherwise only be removed on "make maintainer-clean".

Tue Oct 10 16:22:28 BST 2006  Olly Betts <olly@survex.com>

	* csharp/docs/bindings.html: Document MatchDecider subclassing.

Tue Oct 10 16:05:02 BST 2006  Olly Betts <olly@survex.com>

	* python/docs/bindings.html: Call the example MatchDecider subclass
	  "mymatchdecider" not "mymatcher".

Tue Oct 10 16:04:40 BST 2006  Olly Betts <olly@survex.com>

	* ruby/docs/bindings.html: Document MatchDecider subclassing.

Tue Oct 10 15:58:32 BST 2006  Olly Betts <olly@survex.com>

	* TODO: Update.

Tue Oct 10 15:55:36 BST 2006  Olly Betts <olly@survex.com>

	* xapian.i: Only wrap MatchDecider where directors are supported.

Tue Oct 10 13:16:08 BST 2006  Olly Betts <olly@survex.com>

	* csharp/Makefile.am,csharp/SmokeTest.cs,xapian.i: Add test of
	  MatchDecider subclassing in C#.

Tue Oct 10 11:39:46 BST 2006  Olly Betts <olly@survex.com>

	* ruby/util.i: Allow bool to be returned by ruby subclasses of
	  MatchDecider.
	* ruby/smoketest.rb: Add test of MatchDecider subclassing.

Mon Oct 09 15:14:27 BST 2006  Olly Betts <olly@survex.com>

	* python/util.i,xapian.i: Enable directors everywhere that SWIG
	  supports them.

Sat Oct 07 10:45:07 BST 2006  Olly Betts <olly@survex.com>

	* php/smoketest.php,php/smoketest4.php,php/smoketest5.php: Factor out
	  PHP version specific code into the smoketestN.php files, since we
	  get parse errors from PHP4 otherwise.

Fri Oct 06 21:40:09 BST 2006  Olly Betts <olly@survex.com>

	* php/: Rely on xapian.php to load the extension module for us.
	  PHP4 bindings now generate proxy classes.  Rewrite smoketest to
	  handle either PHP4 or PHP5 proxy classes.  Fix smoketest error
	  messages to use PHP style code.

Wed Oct 04 17:47:32 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac,python/Makefile.am: Use -fno-strict-aliasing when
	  compiling all SWIG bindings, not just python.

Mon Oct 02 04:45:43 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: Only enable visibility annotations with GCC 4.0 or
	  later.

Sun Oct 01 13:40:49 BST 2006  Olly Betts <olly@survex.com>

	* ruby/docs/examples/simplesearch.rb: "First ten" is inaccurate since
	  we may have less than 10 matches.  Say "1-<N>" instead.
	* ruby/docs/examples/simplematchdecider.rb: Need to initialise
	  super-class, and fix the value test in MyMatchDecider.

Sun Oct 01 06:31:37 BST 2006  Olly Betts <olly@survex.com>

	* xapian.i: Use SWIGPHP instead of SWIGPHP4 since we want those
	  parts for both PHP4 and PHP5 (SWIG's semantics have changed).

Sun Oct 01 06:17:14 BST 2006  Olly Betts <olly@survex.com>

	* ruby/docs/examples/simplesearch.rb: Lowercase terms before stemming.
	  Tweak output a bit.
	* ruby/docs/examples/simplematchdecider.rb: Implemented, but the
	  bindings don't currently enable directors for Ruby.

Sun Oct 01 06:14:52 BST 2006  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: SWIG C# now supports directors, so we get a
	  xapian_wrap.h file generated too which we need to ship.  Also
	  remove the "nodist_" prefix from "XapianSharp_la_SOURCES" since
	  we do want to distribute xapian_wrap.cc (and already mark it
	  for explicit distribution elsewhere!)

Sat Sep 30 19:49:18 BST 2006  Olly Betts <olly@survex.com>

	* python/docs/examples/simplematchdecider.py: Call the MyMatchDecider
	  instance "mdecider" rather than "matcher", to avoid confusing the
	  reader.

Sat Sep 30 03:30:33 BST 2006  Olly Betts <olly@survex.com>

	* ruby/Makefile.am: Oops, xapian.rb isn't a generated file.  Undo
	  last change, use the "dist_" prefix and let "make clean" remove
	  the BUILT_SOURCES if we're in MAINTAINER_MODE.

Sat Sep 30 03:28:19 BST 2006  Olly Betts <olly@survex.com>

	* ruby/Makefile.am: Add dependencies and clean rules for xapian.rb.

Sat Sep 30 03:22:10 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: Look for ruby interpreter as "ruby1.8" since it's
	  called that (with no "ruby" alias) on Ubuntu dapper at least.

Sat Sep 30 03:03:30 BST 2006  Olly Betts <olly@survex.com>

	* python/docs/examples/simplematchdecider.py: Fix typo in comment.

Sat Sep 30 03:01:22 BST 2006  Olly Betts <olly@survex.com>

	* python/Makefile.am: Prefer $(PYTHON_MODERN_OR_OLDE) to
	  @PYTHON_MODERN_OR_OLDE@.  No need to list xapian_wrap.h in
	  _xapian_la_SOURCES.

Sat Sep 30 03:00:01 BST 2006  Olly Betts <olly@survex.com>

	* php/Makefile.am: When running smoketest.php, pass the "-q" option,
	  which suppresses HTTP header output for PHP < 4.3 and is ignored for
	  compatibility by more recent versions of PHP.

Sat Sep 30 02:57:24 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac,php/Makefile.am: Build PHP bindings for both PHP4 and
	  PHP5 (using SWIG's new support for generating OO PHP5 wrappers).

Sat Sep 30 02:41:23 BST 2006  Olly Betts <olly@survex.com>

	* python/smoketest.py: Added missing "sys.exit(1)" in
	  TermIter.skip_to() test.  Run exception handling tests and test for
	  OP_ELITE_SET value whatever the python version is.  Add test that
	  MatchDecider can be subclassed successfully.

Fri Sep 29 10:06:37 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: Fix typo - PHP_tried should be PHP_found.  This might
	  have caused the PHP interpreter not to be found in some cases when
	  it was actually available, but it's only use to run the smoketest
	  not for building the bindings.

Fri Sep 29 07:02:10 BST 2006  Olly Betts <olly@survex.com>

	* tcl8/smoketest.tcl: Add comment about Tcl storing zero bytes as
	  \xc0\x80.

Thu Sep 28 15:05:07 BST 2006  Olly Betts <olly@survex.com>

	* python/extra.i,python/smoketest.py: Wrap TermIterator::skip_to().

Thu Sep 28 12:09:52 BST 2006  Olly Betts <olly@survex.com>

	* csharp/SmokeTest.cs: Fix check that OP_ELITE_SET works to actually
	  work, and also not give compiler warnings.
	* csharp/Makefile.am: Latest swig generates a "xapian_wrap.h" file, so
	  ship that.  Also don't mark xapian_wrap.cc as "nodist" in one place
	  since we want to distribute it (and mark it so elsewhere).

Thu Sep 28 11:54:46 BST 2006  Olly Betts <olly@survex.com>

	* java/SmokeTest.java,python/smoketest.py,ruby/smoketest.rb: Check
	  that OP_ELITE_SET has the correct numerical value.

Thu Sep 28 09:47:01 BST 2006  Olly Betts <olly@survex.com>

	* java/native/Makefile.am: Actually use JAVA_CPPFLAGS.

Thu Sep 28 09:42:21 BST 2006  Olly Betts <olly@survex.com>

	* xapian.i: Explicitly set OP_ELITE_SET to 10, since some languages
	  (e.g. Csharp) use the value from here rather than from the xapian
	  headers.
	* csharp/SmokeTest.cs: Check that OP_ELITE_SET works (until now it had
	  the wrong value in C# so caused an exception).
	* php/smoketest.php: Check that OP_ELITE_SET has the correct numerical
	  value.

Mon Sep 11 06:51:25 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: Fix broken sed command in previous checkin.

Fri Sep 08 03:27:36 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac,tcl8/Makefile.am: For Tcl, remove any _svn6789 suffix
	  from the version number.

Tue Sep 05 21:14:33 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: Need to AC_SUBST(PYTHON_CXXFLAGS) so that we really
	  add "-fno-strict-aliasing" when compiling the python bindings with
	  g++.

Thu Aug 31 20:27:42 BST 2006  Olly Betts <olly@survex.com>

	* tcl8/Makefile.am,tcl8/run-tcl-test: Fix to work in VPATH build.

Thu Aug 24 18:31:42 BST 2006  Olly Betts <olly@survex.com>

	* tcl8/smoketest.tcl: Add check that xapian::Query_OP_ELITE_SET has
	  the right value.

Thu Aug 24 18:03:47 BST 2006  Olly Betts <olly@survex.com>

	* tcl8/: Rework how the smoketest gets run to eliminate special code
	  for using uninstalled bindings from smoketest.tcl itself.  This
	  allows the smoketest to be run using install bindings, and also
	  make the smoketest a better example program.

Fri Jun 09 04:10:18 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: We need to look for jni.h in
	  /usr/lib/jvm/java-gcj/include on some Debian and Ubuntu boxes at
	  least.

Fri Jun 09 00:23:46 BST 2006  Olly Betts <olly@survex.com>

	* xapian.i: Add actual begin_transaction prototype.

Mon May 29 11:19:32 BST 2006  Olly Betts <olly@survex.com>

	* php/Makefile.am: Distribute smoketest4.php and smoketest5.php.

Thu May 25 08:09:15 BST 2006  Olly Betts <olly@survex.com>

	* php/smoketest5.php: Fix syntax of catch.

Sat May 20 19:27:27 BST 2006  Olly Betts <olly@survex.com>

	* TODO: Add 2 entries for smoketest.rb.

Sat May 20 18:09:32 BST 2006  Olly Betts <olly@survex.com>

	* php/: Now that we're throwing PHP exceptions with PHP5 we need
	  separate versions of the exception handling test for PHP4 and
	  PHP5.  Fixed bug#76.

Sat May 20 16:56:51 BST 2006  Olly Betts <olly@survex.com>

	* csharp/SmokeTest.cs: Added exception handling test.

Sat May 20 16:36:30 BST 2006  Olly Betts <olly@survex.com>

	* tcl8/docs/examples/simpleindex.tcl,
	  tcl8/docs/examples/simplesearch.tcl: Print $errorCode in
	  the exception handler.

Sat May 20 16:30:48 BST 2006  Olly Betts <olly@survex.com>

	* tcl8/docs/bindings.html,tcl8/smoketest.tcl,tcl8/util.i,xapian.i:
	  Implement saner exception handling for Tcl and document it.

Sat May 20 14:28:39 BST 2006  Olly Betts <olly@survex.com>

	* tcl8/smoketest.tcl: Send error messages to stderr.
	* tcl8/smoketest.tcl: Add test of exception handling.

Sat May 20 09:24:46 BST 2006  Olly Betts <olly@survex.com>

	* python/smoketest.py: Add test of exception handling.

Sat May 20 06:18:43 BST 2006  Olly Betts <olly@survex.com>

	* Makefile.am,configure.ac: Specify required automake version in
	  the call to AM_INIT_AUTOMAKE in configure.ac.

Fri May 19 05:35:01 BST 2006  Olly Betts <olly@survex.com>

	* php/smoketest.php: Work out the name of the module we need to load.
	  Check the return value of dl().

Thu May 18 19:18:00 BST 2006  Olly Betts <olly@survex.com>

	* java/native/Query.cc: Correct two misuses of delete to delete[].
	  Fixes bug#78.

Thu May 18 18:27:16 BST 2006  Olly Betts <olly@survex.com>

	* python/Makefile.am: xapian.pyc can't be generated until _xapian.la
	  has been built, so add an explicit dependency so that this works
	  reliably in parallel builds.  Fixes bug#77.

Wed May 17 05:35:59 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: If we're building with GCC 3.4 or higher, pass
	  -fvisibility=hidden when compiling SWIG generated code which makes
	  the compiled modules a few percent smaller and perhaps a little
	  faster.

Mon May 15 23:34:55 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: Fixed check for PYTHON_PATHSEP to use $PYTHON rather
	  than python, and also report the check and its result to the user.

Mon May 15 05:03:19 BST 2006  Olly Betts <olly@survex.com>

	* NEWS: Fix the recent headings which said "Xapian-core" to say
	  "Xapian-bindings".

Mon May 15 02:54:25 BST 2006  Olly Betts <olly@survex.com>

	* NEWS,configure.ac: Version 0.9.6.

Sun May 14 04:15:07 BST 2006  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Fix compiling SmokeTest.cs when srcdir !=
	  builddir.

Sun May 14 03:26:11 BST 2006  Olly Betts <olly@survex.com>

	* README: Note that Python bindings have been built with MSVC.

Sun May 14 02:52:40 BST 2006  Olly Betts <olly@survex.com>

	* csharp/SmokeTest.cs: Add URL for Portable.NET bug which means that
	  "using Xapian;" is required.

Sun May 14 01:25:07 BST 2006  Olly Betts <olly@survex.com>

	* csharp/SmokeTest.cs: The Portable.NET compiler seems to need "using
	  Xapian;" to be able to see static member functions such as
	  "Xapian.Version.Major()".

Sun May 14 01:20:55 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac,csharp/AssemblyInfo.cs.in: Set the version correctly
	  when building a snapshot from SVN, store the key in the key
	  container so we reuse it for later builds, and set informational
	  attributes.

Sat May 13 23:40:07 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: Passing /out: when compile a CSharp .exe as the
	  Portable.NET compiler defaults to a.out.  If we're using ilgac
	  and sn isn't found, set SN=/bin/true since we don't need the
	  strongname.
	* configure.ac: Look for mcs as gmcs too (since it's sometimes
	  installed as that.)
	* README,TODO: We now support building with Portable.NET.

Sat May 13 23:32:04 BST 2006  Olly Betts <olly@survex.com>

	* TODO: Update ruby todo list.

Sat May 13 23:20:01 BST 2006  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: When building SmokeTest.exe, pass
	  -out:SmokeTest.exe because the Portable.NET compiler defaults to
	  naming the output a.out.

Sat May 13 21:14:24 BST 2006  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Fix to work when srcdir != builddir.

Sat May 13 06:05:37 BST 2006  Olly Betts <olly@survex.com>

	* ruby/util.i: Rename set_XXX functions which take more than one
	  parameter to XXX! rather than XXX=.  set_query is almost always
	  called with a single argument, so make than form XXX= and the
	  two argument form XXX!.

Sat May 13 05:52:03 BST 2006  Olly Betts <olly@survex.com>

	* xapian.i: Adding "throw()" to version functions doesn't actually
	  seem to suppress %exception, so explicitly specify no-op %exception
	  for them.

Sat May 13 02:00:27 BST 2006  Olly Betts <olly@survex.com>

	* TODO,csharp/Makefile.am,csharp/SmokeTest.cs,
	  csharp/docs/bindings.html,csharp/util.i: Wrap the version functions
	  as more sensible names and document them (and continue to provide
	  the older undocumented names for now just in case anyone was using
	  them.)
	* csharp/Makefile.am: For consistency with other bindings, and
	  to reduce the number of files called XapianSharp.*, rename
	  XapianSharp.cc to xapian_wrap.cc.

Sat May 13 00:56:44 BST 2006  Olly Betts <olly@survex.com>

	* csharp/docs/bindings.html: Note that the passing of strings from C#
	  into Xapian and back isn't currently zero byte safe.  If you try to
	  handle string containing zero bytes, you'll find they get truncated
	  at the zero byte.

Sat May 13 00:55:55 BST 2006  Olly Betts <olly@survex.com>

	* TODO: Update.

Fri May 12 03:57:16 BST 2006  Olly Betts <olly@survex.com>

	* csharp/SmokeTest.cs,php/util.i,python/smoketest.py,ruby/util.i,
	  tcl8/smoketest.tcl,xapian.i: Updated to reflect the
	  Xapian::xapian_version_string -> Xapian::version_string change
	  in xapian-core.

Fri May 12 03:55:56 BST 2006  Olly Betts <olly@survex.com>

	* python/docs/examples/simpleexpand.py: Don't define
	  MAX_PROB_TERM_LENGTH as it isn't used.

Fri May 12 03:46:45 BST 2006  Olly Betts <olly@survex.com>

	* php/smoketest.php: Whitespace tweak.

Fri May 12 03:46:06 BST 2006  Olly Betts <olly@survex.com>

	* php/docs/examples/simplesearch.php: MAX_PROB_TERM_LENGTH isn't used
	  here so remove it.

Fri May 12 03:39:31 BST 2006  Olly Betts <olly@survex.com>

	* php/Makefile.am: Reinstate -noproxy which I accidentally removed on
	  2006-05-07.

Fri May 12 00:32:41 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: Add partial support for the Portable.NET C# compiler.
	  Currently the lack of strong naming support is a problem because
	  our build system assumes we have it...

Fri May 12 00:31:51 BST 2006  Olly Betts <olly@survex.com>

	* xapian.i: Wrap optional length parameter to Enquire::set_query().

Fri May 12 00:30:51 BST 2006  Olly Betts <olly@survex.com>

	* ruby/util.i: Rename set_sort_by_relevance to sort_by_relevance!
	  instead of sort_by_relevance= (as it doesn't take any parameters).

Tue May 09 03:39:03 BST 2006  Olly Betts <olly@survex.com>

	* csharp/SmokeTest.cs: Add test of version functions.

Tue May 09 03:21:44 BST 2006  Olly Betts <olly@survex.com>

	* php/smoketest.php: Added simple test that zero-bytes are handled
	  when passing strings to and from Xapian.

Tue May 09 03:12:03 BST 2006  Olly Betts <olly@survex.com>

	* python/smoketest.py: Added simple test that zero-bytes are handled
	  when passing strings to and from Xapian.

Tue May 09 00:50:00 BST 2006  Olly Betts <olly@survex.com>

	* tcl8/smoketest.tcl: Add test for version reporting functions; if a
	  test fails, say which one to aid debugging.

Mon May 08 21:57:49 BST 2006  Olly Betts <olly@survex.com>

	* tcl8/smoketest.tcl: Added simple test that zero-bytes are handled
	  when passing strings to and from Xapian.

Sun May 07 22:03:01 BST 2006  Olly Betts <olly@survex.com>

	* java/Makefile.am,java/run-java-test: Another fix "make check" when
	  srcdir != builddir.
	* HACKING: Add estimation of approximate effort required to implement
	  bindings for another language.
	* NEWS: Updated ready for next release.

Sun May 07 15:01:24 BST 2006  Olly Betts <olly@survex.com>

	* java/Makefile.am: Need to make sure "built" subdirectory exists or
	  building from clean fails.
	* java/Makefile.am: Fix "make check" to work when srcdir != builddir.

Sun May 07 03:48:30 BST 2006  Olly Betts <olly@survex.com>

	* ruby/smoketest.rb: Use hit instead of get_hit.
	* ruby/util.i: Don't provide the typemap for get_matching_terms since
	  there's a hand-coded version in xapian.rb.

Sun May 07 01:19:38 BST 2006  Olly Betts <olly@survex.com>

	* ruby/Makefile.am: Fix "make check" to work when srcdir != builddir.

Sun May 07 01:16:25 BST 2006  Olly Betts <olly@survex.com>

	* php/Makefile.am: Using "php -c myphp.ini" still loads the system
	  php.ini (at least for PHP 4.3.10), so use "php -n" and then set the
	  options we specifically want using "-d".  Also, fix the smoketest
	  invocation to work better when srcdir != builddir.

Sat May 07 01:13:58 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac,csharp/Makefile.am: Not all machines are set up to run
	  compiled C# programs when invoked directly, so get configure to
	  probe if we can, or if using mono works.  If not, just skip the
	  tests.

Sat May 06 18:34:41 BST 2006  Olly Betts <olly@survex.com>

	* xapian.i: Uncomment commented-out parameter names and fix duplicate
	  parameter names (for the benefit of bindings which use the parameter
	  names, like the OO PHP5 patch for SWIG I'm working on...)

Fri May 05 02:36:41 BST 2006  Olly Betts <olly@survex.com>

	* ruby/Makefile.am: Actually ship xapian.rb!

Fri May 05 00:49:22 BST 2006  Paul Legato

	* ruby/util.i: Remove code left over from before we created xapian.rb.

Thu May 04 18:30:26 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: Remove guile/Makefile from AC_CONFIG_FILES.

Tue May 02 03:00:15 BST 2006  Olly Betts <olly@survex.com>

	* python/docs/examples/simplematchdecider.py: Rename confusingly-named
	  "mymatcher" to "mymatchdecider".  Add description of what this
	  example does.

Sun Apr 30 01:27:06 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: The "#" in "C#" seems to sometimes confuse autoconf so
	  always say "CSharp" instead.  Add some missing "checking ..."
	  messages so the user has more idea what is going on.  Look for PHP
	  interpreter first in prefix given by "php-config --prefix".  Look
	  for CSharp compiler as "csc" (if "mcs" isn't found) but check we
	  don't find the unrelated Chicken csc program.

Sat Apr 29 22:16:51 BST 2006  Olly Betts <olly@survex.com>

	* INSTALL,configure.ac: Remove mentions of guile from
	  "./configure --help" and installation instructions.
	* Makefile.am: Don't include guile subdirectory in the tarball.
	* INSTALL: Mention --with-ruby.

Sat Apr 29 21:46:36 BST 2006  Olly Betts <olly@survex.com>

	* HACKING,Makefile.am,README,TODO,configure.ac,ruby/Makefile.am,
	  ruby/docs/Makefile.am,ruby/docs/bindings.html,ruby/docs/examples/,
	  ruby/smoketest.rb,ruby/util.i,ruby/xapian.rb,xapian.i: Added Ruby
	  bindings from Paul Legato.

Sat Apr 29 13:57:49 BST 2006  Olly Betts <olly@survex.com>

	* php/docs/bindings.html,python/docs/bindings.html,
	  tcl8/docs/bindings.html,xapian.i: Rename get_document_id to
	  get_docid for consistency.  Keep get_document_id as an alias
	  for now for backward compatibility.

Sat Apr 29 02:48:54 BST 2006  Olly Betts <olly@survex.com>

	* xapian.i: Fixed ESet::empty() to return bool instead of
	  Xapian::termcount (this was probably a largely harmless error).

Fri Apr 28 17:52:31 BST 2006  Olly Betts <olly@survex.com>

	* csharp/util.i,xapian.i: Move the C# specific %rename list to
	  csharp/util.i.

Fri Apr 28 17:38:12 BST 2006  Olly Betts <olly@survex.com>

	* xapian.i: PHP 4.1.2 doesn't define PHP_MAJOR_VERSION so rejig code
	  to handle this.

Fri Apr 28 17:24:32 BST 2006  Olly Betts <olly@survex.com>

	* INSTALL: To install without root access, you need to specify
	  --prefix to configure so that the docs and examples can be
	  installed somewhere.

Fri Apr 28 16:43:53 BST 2006  Olly Betts <olly@survex.com>

	* php/util.i,python/util.i,tcl8/util.i,xapian.i: Add
	  XAPIAN_TERMITERATOR_PAIR_OUTPUT_TYPEMAP and
	  XAPIAN_MIXED_VECTOR_QUERY_INPUT_TYPEMAP which util.i can #define to
	  specify which optional typemaps it provides so we don't need to
	  encode this information in xapian.i.

Fri Apr 28 14:32:22 BST 2006  Olly Betts <olly@survex.com>

	* xapian.i: Fix SWIG_RuntimeError to be handled as an exception in
	  PHP5.

Fri Apr 28 14:26:20 BST 2006  Olly Betts <olly@survex.com>

	* xapian.i: Mark the calls which return version strings as "throw()"
	  so that SWIG knows it can omit exception handling wrappers.

Fri Apr 28 14:11:32 BST 2006  Olly Betts <olly@survex.com>

	* java/Makefile.am,java/run-java-test: Simplify (and improve
	  portability of) run-java-test by using "libtool --mode=execute"'s
	  -dlopen option.

Sun Apr 16 03:48:08 BST 2006  Olly Betts <olly@survex.com>

	* php/smoketest.php: Translated tests of the version number functions
	  from smoketest.py.  Failing tests now print a diagnostic before
	  dying (again like smoketest.py).

Thu Apr 13 19:50:16 BST 2006  Olly Betts <olly@survex.com>

	* INSTALL: Add section describing how to install without root access.

Wed Apr 12 00:38:39 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: Fix warning flags passed for Intel C++ compiler.

Tue Apr 11 22:43:59 BST 2006  Olly Betts <olly@survex.com>

	* xapian.i: Removed superfluous "const" from return type "docid"
	  which is just a typedef for an unsigned integer type.

Sun Apr 09 16:47:15 BST 2006  Olly Betts <olly@survex.com>

	* python/Makefile.am: Install xapian.py and xapian.pyc as _DATA not
	  _SCRIPTS because we don't want to make them executable (they don't
	  have a #! line).

Sat Apr 08 20:09:39 BST 2006  Olly Betts <olly@survex.com>

	* NEWS,configure.ac: Updated for 0.9.5.

Sat Apr 08 20:08:07 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: Disable "--with-guile" option.

Fri Apr 07 22:54:54 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: Special case setting of compiler warnings to account
	  for Intel's C++ compiler (which configure detects as GCC.

Fri Apr 07 17:33:39 BST 2006  Olly Betts <olly@survex.com>

	* Makefile.am: Distribute HACKING.

Fri Apr 07 17:31:40 BST 2006  Olly Betts <olly@survex.com>

	* HACKING,README: Split off HACKING to contain information which is
	  only relevant to those wishing to modify the bindings.

Fri Apr 07 16:49:37 BST 2006  Olly Betts <olly@survex.com>

	* java/run-java-test: Fix to work on platforms where LD_LIBRARY_PATH
	  has a different name.

Thu Apr 06 23:33:55 BST 2006  Olly Betts <olly@survex.com>

	* php/docs/examples/simpleindex.php: Flushing after every call to
	  WritableDatabase_add_document isn't required and will kill
	  performance, so stop doing it.

Wed Apr 05 03:42:58 BST 2006  Olly Betts <olly@survex.com>

	* php/util.i: Add custom typemap for SWIGTYPE& to avoid SEGV when
	  "Null" is passed where C++ wants an object passed by reference.
	  Fixes bug#74.

Wed Apr 05 03:06:07 BST 2006  Olly Betts <olly@survex.com>

	* php/docs/examples/simpleindex.php: Lowercase terms before stemming.
	  Fixes bug#73.

Wed Apr 05 00:48:00 BST 2006  Olly Betts <olly@survex.com>

	* configure.ac: Require SWIG 1.3.29.

Tue Apr 04 22:05:37 BST 2006  Olly Betts <olly@survex.com>

	* php/smoketest.php: Added regression test to make sure that overload
	  resolution involving boolean types works.

Tue Apr 04 16:41:44 BST 2006  Olly Betts <olly@survex.com>

	* xapian.i: Wrap Enquire::set_sort_by_relevance_then_value().

Sun Apr 02 03:11:38 BST 2006  Olly Betts <olly@survex.com>

	* python/Makefile.am: Pass suitable SWIG optimisation options for
	  olde bindings.
	* python/Makefile.am,xapian.i: Exclude pythonic iterator code from
	  olde bindings.

Sat Apr 01 16:34:32 BST 2006  Olly Betts <olly@survex.com>

	* python/docs/bindings.html,python/smoketest.py: Pythonic iterators
	  require Python 2.2 or newer.

Thu Mar 30 15:32:44 BST 2006  Olly Betts <olly@survex.com>

	* python/docs/bindings.html: Wrap unwrapped paragraphs.  Use " to
	  quote attribute values for consistency.

Thu Mar 30 15:26:21 BST 2006  James Aylett <james@tartarus.org>

	* python/docs/bindings.html: Document the Pythonic iterators.

Thu Mar 30 15:23:16 BST 2006  Olly Betts <olly@survex.com>

	* python/extra.i: Database's termlist iterator now supports positions.

Tue Mar 28 21:58:21 BST 2006  Olly Betts <olly@survex.com>

	* xapian-bindings.spec.in: Use "%{_libdir}" instead of "/usr/lib" for
	  Python bindings.  Add package for C# bindings.

Thu Mar 16 08:15:43 GMT 2006  Olly Betts <olly@survex.com>

	* php/util.i: Fix handling of bool parameters when resolving
	  overloaded methods and/or default arguments.  This fixes
	  Enquire_sort_by_value() to work when the second argument
	  is specified.

Thu Mar 16 02:48:16 GMT 2006  Olly Betts <olly@survex.com>

	* python/extra.i: Fix TermIter not to try to read termfreqs or
	  positions when they aren't meaningful for the current TermIter.
	* python/smoketest.py: Add feature tests for the various pythonic
	  iterator wrappers; catch Exception objects and print them.

Wed Mar 15 02:21:53 GMT 2006  Olly Betts <olly@survex.com>

	* python/smoketest.py: If a check fails, write a diagnostic message to
	  stderr so we know which check it was!

Wed Mar 15 01:41:40 GMT 2006  Olly Betts <olly@survex.com>

	* python/smoketest.py: Add feature test for MSetIter.

Thu Mar 09 20:11:32 GMT 2006  Olly Betts <olly@survex.com>

	* java/SmokeTest.java,java/native/Query.cc,
	  java/native/org_xapian_XapianJNI.h,java/org/xapian/Query.java,
	  java/org/xapian/XapianJNI.java: Add a new Query constructor
	  wrapper which take an OP_xxx and an array of Query objects.
	* java/org/xapian/Makefile.am,java/org/xapian/errors/Makefile.am:
	  Compiling a .java file to a .class file now deletes the .jar file
	  to ensure it gets updated.

Thu Mar 09 20:08:17 GMT 2006  Olly Betts <olly@survex.com>

	* java/README: Note that some platforms need "-pthread" or similar
	  flags.

Thu Mar 09 17:50:51 GMT 2006  Olly Betts <olly@survex.com>

	* csharp/SmokeTest.cs,xapian.i: Rename Database::GetDoccount() to
	  Database::GetDocCount() for consistency.

Thu Mar 09 14:57:20 GMT 2006  Olly Betts <olly@survex.com>

	* java/Makefile.am: Use JAVA_PATHSEP when specifying the classpath for
	  compiling .java files to .class files.

Thu Mar 09 06:12:44 GMT 2006  Olly Betts <olly@survex.com>

	* java/README,java/native/Makefile.am,java/run-java-test: Causing the
	  "all" target to run the "install" target seems to be very
	  problematic, so change "make check" to use the uninstalled JNI glue
	  library, and update the instructions to say that "make install" is
	  now required.

Thu Mar 09 05:16:19 GMT 2006  Olly Betts <olly@survex.com>

	* java/native/XapianObjectHolder.h,java/native/xapian_jni.h: Rework
	  how we include headers to get hash_map to avoid compiler warnings
	  since it's usually not in the std namespace nowadays.

Wed Mar 08 23:39:34 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac: Fix poor English in comment.

Wed Mar 08 22:49:57 GMT 2006  Olly Betts <olly@survex.com>

	* java/SmokeTest.java: Write a helpful diagnostic to stderr if a check
	  fails so we have some idea what went wrong!

Tue Mar 07 04:30:45 GMT 2006  Olly Betts <olly@survex.com>

	* python/Makefile.am: Use the fairly new "swig -O" option for the
	  "modern" python bindings as it generates a smaller glue library
	  and runs faster.

Fri Mar 03 00:51:08 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac: Report which languages we're building bindings for
	  just before configure finishes.

Thu Mar 02 04:26:14 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac: Add a better check for Python's distutils.sysconfig
	  not being available (the previous check didn't actually work), and
	  mention in the warning/error that we give that the solution is
	  probably to install a python-dev or python-devel package.

Thu Mar 02 02:45:00 GMT 2006  Olly Betts <olly@survex.com>

	* php/Makefile.am,php/php.ini: php -n avoids reading any php.ini, but
	  the compiled in default may be to enable the dubiously named
	  "safe_mode" which prevents dl() being used so "make check" fails.
	  So instead provide a very simple php.ini which turns off safe_mode
	  and makes sure enable_dl is on.

Thu Feb 23 16:15:41 GMT 2006  Olly Betts <olly@survex.com>

	* xapian.i: Make the stub definitions for disabled backends static.

Tue Feb 21 23:23:59 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac: Catch the case where the user has python installed
	  but not the module "distutils.sysconfig".

Tue Feb 21 23:02:18 GMT 2006  Olly Betts <olly@survex.com>

	* python/Makefile.am: Fix so "make check" works in VPATH builds.

Tue Feb 21 21:15:10 GMT 2006  Olly Betts <olly@survex.com>

	* java/native/,xapian.i: Override deprecation warnings for Xapian
	  methods/functions/etc.

Tue Feb 21 12:12:48 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac: Don't quote $PHP in AC_PATH_PROGS to avoid
	  "checking for ... no" message.

Tue Feb 21 00:19:57 GMT 2006  Olly Betts <olly@survex.com>

	* NEWS,configure.ac: Updated for 0.9.4.

Sun Feb 19 23:21:29 GMT 2006  Olly Betts <olly@survex.com>

	* COPYING: Updated FSF address.

Sun Feb 19 01:10:14 GMT 2006  Olly Betts <olly@survex.com>

	* xapian.i: Wrap Stopper::get_description().
	* xapian.i: Wrap xapian_version_string() and related functions.
	* python/smoketest.py: Test wrapping of xapian_version_string()
	  and related functions.

Sat Feb 18 15:35:06 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac: Actually, the windows special case code for PHP
	  should *NOT* be active for cygwin too!

Sat Feb 18 15:34:10 GMT 2006  Olly Betts <olly@survex.com>

	* php/util.i: Fix so that generated code compiles with ZTS-enabled
	  PHP (which is the default on Windows).

Fri Feb 17 14:10:08 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac,csharp/Makefile.am,guile/Makefile.am,
	  java/native/Makefile.am,php/Makefile.am,python/Makefile.am,
	  tcl8/Makefile.am: If we're overriding MACOSX_DEPLOYMENT_TARGET
	  then override it for commands run from "make" too.
	* configure.ac: The windows special case code for PHP should be
	  active for cygwin too.

Thu Feb 16 00:11:00 GMT 2006  Olly Betts <olly@survex.com>

	* NEWS,configure.ac: Updated for 0.9.3.
	* php/Makefile.am: Missing change for trying to enable PHP bindings
	  to build out of the box on cygwin.

Wed Feb 15 23:18:22 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac: Add missing ";;" on the last alternative in some
	  case statements.
	* configure.ac: Try to enable PHP bindings to build out of the
	  box on cygwin (needs testing).

Wed Feb 15 21:02:42 GMT 2006  Olly Betts <olly@survex.com>

	* java/README: Updated the java TODO list.

Tue Feb 14 17:13:36 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac,csharp/Makefile.am,guile/Makefile.am,
	  java/native/Makefile.am,php/Makefile.am,python/Makefile.am,
	  tcl8/Makefile.am: Only pass -no-undefined on platforms where it
	  is required in order to link a shared library at all (it causes
	  problems on MacOS X in some cases).

Tue Feb 14 14:45:34 GMT 2006  Olly Betts <olly@survex.com>

	* python/smoketest.py: Remove stray print statement left over from
	  debugging.

Tue Feb 14 14:37:15 GMT 2006  Olly Betts <olly@survex.com>

	* xapian.i: zend_throw_exception takes a non-const char * as the
	  message to throw.  Presumably it doesn't modify it, but there's
	  no documentation so it's hard to be sure.  Just cast away the const
	  for now.

Tue Feb 14 14:22:35 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac: Change calls to AC_PATH_PROG(FOO, foo, ...)
	  to AC_PATH_PROGS(FOO, [$FOO foo], ...) so that the user
	  can do "./configure FOO=myfoo".  By itself, AC_PATH_PROG
	  ignore an explicitly specified FOO unless it has an absolute
	  path.

Tue Feb 14 11:31:36 GMT 2006  Olly Betts <olly@survex.com>

	* xapian-bindings.spec.in: Various updates, mostly from a patch by
	  Fabrice Colin:
	  + Automatically detect the python version.
	  + Automatically detect the PHP extension directory.
	  + Relax Tcl requirement to >= 8.1, since that's what we actually
	    require.
	  + Add support for "--without php" and --without tcl8" options to
	    rpmbuild.
	  + Rename "php4" references to "php".

Tue Feb 14 09:21:52 GMT 2006  Olly Betts <olly@survex.com>

	* php/util.i: In SWIG 1.3.28, the PHP typecheck for numbers includes
	  IS_STRING so force std::string to have a higher priority so that
	  number/string overloads can be resolved as string.  Fixes bug#68.

Sun Feb 12 18:31:26 GMT 2006  Olly Betts <olly@survex.com>

	* java/SmokeTest.java: Expanded smoketest to cover more features.

Sun Feb 12 16:01:29 GMT 2006  Olly Betts <olly@survex.com>

	* java/README: Note that the bindings work with the Eclipse javac
	  and GIJ 4.0.1.

Sun Feb 12 13:30:15 GMT 2006  Olly Betts <olly@survex.com>

	* guile/util.i: Replace with a rewrite which doesn't cause SWIG
	  warnings and is zero-byte safe.  The guile bindings are still
	  a long way from actually working though.

Sun Feb 12 12:31:21 GMT 2006  Olly Betts <olly@survex.com>

	* README: SWIG 1.3.28 now released so change "will add" to "added".

Sun Feb 12 07:30:50 GMT 2006  Olly Betts <olly@survex.com>

	* java/org/xapian/Query.java: OP_* code 9 no longer exists, so add
	  it to those rejected by the validity check.

Sun Feb 12 07:28:11 GMT 2006  Olly Betts <olly@survex.com>

	* java/native/Query.cc: Fixed memory leak in
	  Query-from-array-of-strings constructor.

Sun Feb 12 07:22:39 GMT 2006  Olly Betts <olly@survex.com>

	* java/README: Add note about how wrapped methods are named.

Sun Feb 12 07:13:36 GMT 2006  Olly Betts <olly@survex.com>

	* java/native/org_xapian_XapianJNI.cc,java/native/utils.cc,
	  java/native/xapian_jni.h: Eliminate the "_errormap" hashmap -
	  we don't need to use RTTI here, since Xapian::Error subclasses
	  can tell you their typename directly (using get_type()).

Sat Feb 11 13:10:04 GMT 2006  Olly Betts <olly@survex.com>

	* java/org/xapian/Query.java: Comment out no longer used nativeStuff
	  and nativeOperator.

Fri Feb 10 18:20:36 GMT 2006  Olly Betts <olly@survex.com>

	* java/native/xapian_jni.h: Fix 2 typos in comments.

Fri Feb 10 10:17:12 GMT 2006  Olly Betts <olly@survex.com>

	* TODO: Update: SwigValueWrapper is no longer used for std::pair;
	  CamelCase is now used for C#.
	* Makefile.am: Ship TODO.
	* README: Add reference to TODO.

Fri Feb 10 08:15:54 GMT 2006  Olly Betts <olly@survex.com>

	* java/native/Enquire.cc,java/native/org_xapian_XapianJNI.h,
	  java/org/xapian/XapianJNI.java: Fix updated wrapper for
	  Enquire::set_query.
	* java/native/Enquire.cc: Clearer code in wrapper for
	  Enquire::get_mset.
	* java/org/xapian/Query.java: Commented out unused
	  'import java.io.StringReader;'.

Fri Feb 10 08:10:51 GMT 2006  Olly Betts <olly@survex.com>

	* csharp/SmokeTest.cs: Corrected TermlistCount -> TermListCount, etc.

Fri Feb 10 08:10:12 GMT 2006  Olly Betts <olly@survex.com>

	* xapian.i: Fix compilation issues with recent changes.

Fri Feb 10 08:06:26 GMT 2006  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: SWIG CVS HEAD now generates the same .cs
	  filenames for templates as 1.3.27 did, so remove workaround
	  for handling both cases.

Fri Feb 10 06:51:03 GMT 2006  Olly Betts <olly@survex.com>

	* csharp/docs/: svn:ignore Makefile and Makefile.in.

Fri Feb 10 06:49:07 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac: Require SWIG 1.3.28 (for automatic renaming to
	  CamelCase for C#).

Fri Feb 10 06:47:21 GMT 2006  Olly Betts <olly@survex.com>

	* xapian.i: For C#, get_mset -> GetMSet; get_eset -> GetESet.
	* csharp/SmokeTest.cs,csharp/docs/examples/SimpleIndex.cs,
	  csharp/docs/examples/SimpleSearch.cs,csharp/util.i: Update
	  for CamelCase changes.

Fri Feb 10 06:33:10 GMT 2006  Olly Betts <olly@survex.com>

	* xapian.i,csharp/docs/bindings.html: Rename method names to
	  CamelCase for C#.

Thu Feb 09 20:41:28 GMT 2006  Olly Betts <olly@survex.com>

	* xapian.i: Tidy up new exception handling code.
	* xapian.i: Add "%template() std::pair<Xapian::TermIterator,
	  Xapian::TermIterator>;" which stops SWIG from using SwigValueWrapper
	  on that type.

Thu Feb 09 20:18:02 GMT 2006  Olly Betts <olly@survex.com>

	* .: svn:ignore xapian-version.h.

Wed Feb 08 15:24:23 GMT 2006  Olly Betts <olly@survex.com>

	* xapian.i: Fix typo in exception throwing code for PHP5.

Fri Feb 03 03:15:02 GMT 2006  Olly Betts <olly@survex.com>

	* Makefile.am,configure.ac,php/util.i,xapian-version.h.in: Put our
	  PACKAGE_VERSION into xapian-version.h so we can #include that from
	  php/util.i without clashing with PACKAGE_VERSION, etc defined by
	  php_config.h.

Thu Jan 12 19:51:52 GMT 2006  Olly Betts <olly@survex.com>

	* TODO: Updated.

Thu Jan 12 17:23:23 GMT 2006  Olly Betts <olly@survex.com>

	* INSTALL: Note that compile time (and probably memory usage) are much
	  reduced in 0.9.3.

Thu Jan 12 17:18:10 GMT 2006  Olly Betts <olly@survex.com>

	* xapian.i: Pull out much of the common exception handling code into
	  a helper function, drastically reducing the size of the compiled
	  code for other languages like I recently did for tcl.

Thu Jan 12 15:28:16 GMT 2006  Olly Betts <olly@survex.com>

	* python/Makefile.am: "import _xapian;" before we "import xapian;" to
	  avoid creating a broken xapian.pyc is the shared library can't be
	  loaded for some reason.

Fri Jan 06 00:30:50 GMT 2006  Olly Betts <olly@survex.com>

	* php/util.i: Fix so that PACKAGE_VERSION is defined when compiling
	  the SWIG generated C++ source code.

Thu Jan 05 18:29:20 GMT 2006  Olly Betts <olly@survex.com>

	* xapian.i: SWIG/Tcl ignores the SWIG_XXXError code passed to
	  SWIG_exception so special-case Tcl's %exception block to only
	  look for the Xapian::Error baseclass.  This cuts the compile
	  time by about a factor of 3 and halves the size of the stripped
	  library!

Wed Jan 04 20:21:39 GMT 2006  Olly Betts <olly@survex.com>

	* xapian.i: Include default constructors for all classes so that SWIG
	  knows it doesn't have to use SwigValueWrapper for them.

Tue Jan 03 01:56:32 GMT 2006  Olly Betts <olly@survex.com>

	* README: Note that bindings for additional languages need a
	  smoketest, documentation, and examples.

Tue Jan 03 01:48:29 GMT 2006  Olly Betts <olly@survex.com>

	* TODO: Updated.

Tue Jan 03 01:45:11 GMT 2006  Olly Betts <olly@survex.com>

	* php/docs/bindings.html,php/smoketest.php,xapian.i: Translate Xapian
	  exceptions to PHP exceptions for PHP5.  For PHP4, handle
	  DocNotFoundError and FeatureUnavailableError by issuing a warning
	  and making the method return "Null".

Tue Jan 03 01:41:11 GMT 2006  Olly Betts <olly@survex.com>

	* php/docs/examples/simplesearch.php: Use newly wrapped Query from
	  list constructor.

Tue Jan 03 01:40:24 GMT 2006  Olly Betts <olly@survex.com>

	* tcl8/docs/examples/simpleindex.tcl: Fix typo in comment.
	* tcl8/docs/examples/simplesearch.tcl: Fix to lowercase and stem query
	  terms.

Mon Jan 02 23:40:04 GMT 2006  Olly Betts <olly@survex.com>

	* tcl8/docs/examples/simpleindex.tcl,
	  tcl8/docs/examples/simplesearch.tcl: Need explicit "xapian::" on
	  constants.
	* tcl8/docs/examples/simplesearch.tcl: Use the new Query from list
	  constructor.
	* tcl8/docs/examples/simpleindex.tcl: Tweak regex to not tokenise
	  "foo--bar" as "foo-" and "bar".
	* tcl8/smoketest.tcl: Removed commented out unused line.

Mon Jan 02 23:25:48 GMT 2006  Olly Betts <olly@survex.com>

	* tcl8/docs/bindings.html,tcl8/smoketest.tcl,tcl8/util.i,xapian.i:
	  Implement custom typemaps for Tcl, so that you can now construct
	  a Query from a list of Query objects and/or strings, and
	  Enquire::get_matching_terms is now wrapped.

Mon Jan 02 18:59:21 GMT 2006  Olly Betts <olly@survex.com>

	* configure.ac,php/docs/Makefile.am,php/docs/examples/Makefile.am,
	  python/docs/Makefile.am,python/docs/examples/Makefile.am,
	  tcl8/docs/Makefile.am,tcl8/docs/examples/Makefile.am: Eliminate
	  separate Makefile in each examples subdirectory, which makes the
	  build system simpler, smaller, and a little faster.

Mon Jan 02 18:57:47 GMT 2006  Olly Betts <olly@survex.com>

	* README: Note that Python 2.0 and Tcl 8.0 wouldn't be too hard to
	  support in case anyone is sufficiently motivated.

Mon Jan 02 18:47:03 GMT 2006  Olly Betts <olly@survex.com>

	* csharp/docs/Makefile.am: Fix path for SimpleIndex.cs; add
	  SimpleSearch.cs.

Mon Jan 02 18:12:59 GMT 2006  Olly Betts <olly@survex.com>

	* README: C# bindings are now usable.

Mon Jan 02 07:06:58 GMT 2006  Olly Betts <olly@survex.com>

	* TODO,csharp/TODO: Move C# TODO to top level, update C# entries, and
	  add entry for tcl.

Mon Jan 02 07:05:05 GMT 2006  Olly Betts <olly@survex.com>

	* csharp/docs/Makefile.am,csharp/docs/bindings.html,
	  csharp/docs/examples/: Add C# examples.
	* csharp/docs/bindings.html: Document the slightly odd names that
	  constants are currently wrapped as.

Mon Jan 02 06:49:48 GMT 2006  Olly Betts <olly@survex.com>

	* csharp/util.i: Fixed to work!

Mon Jan 02 02:48:35 GMT 2006  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Don't use $(ASSEMBLY).cc for the generated C++
	  source.  It doesn't work everywhere, so it's confusing to use it
	  in just some places.
	* csharp/util.i: Implement operator== and operator!= for the iterator
	  classes so that comparisons with the end iterator work as expected.
	* csharp/SmokeTest.cs: Add test for this.
	* csharp/docs/bindings.html: Document.

Sat Dec 31 14:15:41 GMT 2005  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Removed another reference to
	  SWIGTYPE_p_std__list_Tstd__string_t.

Sat Dec 31 13:25:31 GMT 2005  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: SWIGTYPE_p_std__list_Tstd__string_t.cs is no
	  longer generated.

Sat Dec 31 06:43:37 GMT 2005  Olly Betts <olly@survex.com>

	* configure.ac: Remove php/util.i from AC_CONFIG_FILES.

Sat Dec 31 06:42:41 GMT 2005  Olly Betts <olly@survex.com>

	* python/smoketest.py: Add more tests.

Sat Dec 31 06:41:21 GMT 2005  Olly Betts <olly@survex.com>

	* php/smoketest.php: Add more tests.

Sat Dec 31 06:40:24 GMT 2005  Olly Betts <olly@survex.com>

	* php/docs/bindings.html: Update documentation to include new
	  features.

Sat Dec 31 06:39:17 GMT 2005  Olly Betts <olly@survex.com>

	* php/Makefile.am: Clean up now php/util.i is no longer a generated
	  file.

Sat Dec 31 06:29:24 GMT 2005  Olly Betts <olly@survex.com>

	* php/util.i,php/util.i.in: Generating php/util.i from configure
	  is unnecessary and risks lost changes if you fail to notice
	  and edit the wrong file, so stop doing it.  Redo Xapian section in
	  phpinfo() to look more like most other modules; New PHP typemaps:
	  you can now construct a Query object from an array of strings or
	  Query objects (or a mixture).
	* php/util.i,python/util.i,xapian.i: Change the %extend method
	  Enquire::get_matching_terms() to generate the PHP/Python list
	  directly from the TermIterator rather than constructing a
	  temporary C++ std::list.
	* python/util.i: Check for errors in more places.

Sat Dec 31 06:17:56 GMT 2005  Olly Betts <olly@survex.com>

	* tcl8/docs/bindings.html: We've not implemented the typemaps
	  which allow Enquire::get_matching_terms() to work yet, so
	  comment out that section of the documentation.

Sat Dec 31 06:15:55 GMT 2005  Olly Betts <olly@survex.com>

	* csharp/TODO,csharp/docs/bindings.html: Note that we need to write
	  the custom typemaps for Enquire::get_matching_terms() and the
	  Query list constructors.

Mon Dec 26 18:14:37 GMT 2005  Olly Betts <olly@survex.com>

	* README: Added note about supported platforms.

Sat Dec 24 15:10:53 GMT 2005  Olly Betts <olly@survex.com>

	* configure.ac: Added csharp/docs/Makefile to AC_CONFIG_FILES.

Sat Dec 24 14:27:56 GMT 2005  Olly Betts <olly@survex.com>

	* php/util.i.in: Remove language name from %typemap as it's deprecated
	  by SWIG and not needed since we only include the appropriate util.i
	  for the language we're building bindings for.

Sat Dec 24 13:13:26 GMT 2005  Olly Betts <olly@survex.com>

	* csharp/Makefile.am,csharp/extra.i,guile/Makefile.am,guile/extra.i,
	  php/Makefile.am,php/extra.i,python/util.i,tcl8/Makefile.am,
	  tcl8/extra.i,xapian.i: Eliminate all the empty extra.i files.
	  Python's isn't empty, but we can just include that from Python's
	  util.i.

Sat Dec 24 13:08:16 GMT 2005  Olly Betts <olly@survex.com>

	* csharp/util.i,xapian.i: Make ++ and -- work on iterators.

Sat Dec 24 12:21:59 GMT 2005  Olly Betts <olly@survex.com>

	* csharp/Makefile.am,csharp/TODO,csharp/docs/Makefile.am,
	  csharp/docs/bindings.html: Added documentation for C# bindings.

Thu Dec 22 23:31:40 GMT 2005  Olly Betts <olly@survex.com>

	* python/util.i: Comment out unused "get_py_int".  Use
	  PyString_AsStringAndSize() to get string and size in one.

Wed Dec 21 09:27:19 GMT 2005  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Fix SWIG invocation rule to cope with either
	  SWIG 1.3.27 or SWIG CVS HEAD (which uses a slightly different file
	  naming convention for templates).

Wed Dec 21 09:04:54 GMT 2005  Olly Betts <olly@survex.com>

	* python/util.i: Remove the language name from the %typemap arguments
	  - it's superfluous (since we only include this file for python) and
	  seems to be deprecated in SWIG.

Tue Dec 20 20:40:57 GMT 2005  Olly Betts <olly@survex.com>

	* python/util.i: Test return value of SWIG_ConvertPtr < 0 for
	  consistency with usage elsewhere.

Tue Dec 20 16:51:49 GMT 2005  Olly Betts <olly@survex.com>

	* csharp/SmokeTest.cs,csharp/TODO: SWIG now supports optional
	  parameters in C# so no need to specify them.  Also the
	  get_description() problem I noticed seems to have been
	  fixed by a newer version of SWIG.

Tue Dec 20 15:50:41 GMT 2005  Olly Betts <olly@survex.com>

	* xapian.i: Added a missing ";" and two missing "static" from the
	  previous change.

Tue Dec 20 13:05:07 GMT 2005  Olly Betts <olly@survex.com>

	* csharp/: svn:ignore SmokeTest.exe, and adjust other ignores to be
	  more specific.
	* csharp/Makefile.am,csharp/SmokeTest.cs,csharp/TODO,xapian.i:
	  SmokeTest now passes and reports exceptions verbosely.
	  Xapian::InMemory::open() is wrapped as Xapian.InMemory.open(), and
	  similarly for other database factory functions.
	* xapian.i: Removed workaround for SWIG 1.3.22's missing std_XXX.i
	  typemap files for C#.  Added workaround for SWIG 1.3.27's missing
	  SWIG_exception() for C#.  Stop renaming methods for PHP as it now
	  support overloading.  Add dtors for MSetIterator and ESetIterator
	  as the classes do have them (they just do nothing) and SWIG will
	  try to wrap the default ones anyway (and get it slightly wrong).

Tue Dec 20 09:48:56 GMT 2005  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Heed compatibility warnings and use different
	  forms for command-line switches to the C# compiler (presumably for
	  compatibility with Microsoft's compiler, though the warnings don't
	  actually say that explicitly).

Mon Dec 19 12:51:19 GMT 2005  Olly Betts <olly@survex.com>

	* tcl8/util.i: Remove typemaps for handling std::string since SWIG
	  supplies those now.

Mon Dec 19 11:45:39 GMT 2005  Olly Betts <olly@survex.com>

	* php/docs/bindings.html,php/docs/examples/simpleindex.php: You aren't
	  meant to call delete_CLASS() directly from PHP (and in fact it's
	  usually not wrapped now).

Mon Dec 19 11:37:16 GMT 2005  Olly Betts <olly@survex.com>

	* php/smoketest.php: Add feature tests for new Query wrapping stuff.

Mon Dec 19 11:34:44 GMT 2005  Olly Betts <olly@survex.com>

	* python/util.i: Convert C++ strings to python ones in a zero-byte
	  clean way.

Mon Dec 19 11:01:31 GMT 2005  Olly Betts <olly@survex.com>

	* configure.ac,python/Makefile.am: If using GCC, compile the python
	  bindings with -fno-strict-aliasing (python itself is compiled with
	  this option to avoid problems and it appears we ought to use it too
	  to avoid the same problems).

Mon Dec 12 11:15:34 GMT 2005  Olly Betts <olly@survex.com>

	* php/util.i.in: Use std::string::data() instead of c_str() as it may
	  be more efficient for some implementations.

Mon Dec 12 04:26:24 GMT 2005  Olly Betts <olly@survex.com>

	* configure.ac: Fix java separator configure test to actually work.

Mon Dec 12 02:54:10 GMT 2005  Olly Betts <olly@survex.com>

	* configure.ac,java/Makefile.am: Compile a small java program and
	  run it to find what java wants as path separator in -classpath.

Mon Dec 12 02:11:44 GMT 2005  Olly Betts <olly@survex.com>

	* java/Makefile.am,java/run-java-test: Use $(PATH_SEPARATOR) to
	  separate entries in the java -classpath command line option so
	  that it'll work on platforms where $(PATH_SEPARATOR) isn't ":".

Sun Dec 11 07:58:51 GMT 2005  Olly Betts <olly@survex.com>

	* python/util.i,xapian.i: Support a mixture of xapian.Query objects
	  and strings in the python xapian.Query(OP, SEQUENCE [, PARAM])
	  ctor.
	* python/smoketest.py: Add feature test.
	* python/docs/bindings.html: Update documentation to mention recent
	  fixes/improvements.

Sun Dec 11 07:31:21 GMT 2005  Olly Betts <olly@survex.com>

	* python/util.i,xapian.i: Fix wrapper for Xapian::Query ctor taking
	  operator and list of strings, plus optional parameter to work again.
	  Add a new wrapper which is similar but takes a list of xapian.query
	  objects instead of strings.
	* python/smoketest.py: Add regression test and feature test for
	  the above changes.

Thu Dec 08 03:39:25 GMT 2005  Olly Betts <olly@survex.com>

	* python/extra.i,python/util.i: Tweak layout for better readability;
	  Update FSF address.
	* python/extra.i: Add vim modeline.

Thu Dec 08 02:05:13 GMT 2005  Olly Betts <olly@survex.com>

	* php/docs/examples/simpleindex.php,
	  php/docs/examples/simplesearch.php: Add a more useful error message
	  if a database can't be opened; Fix inconsistent whitespace; Update
	  FSF address.

Thu Dec 08 01:58:04 GMT 2005  Olly Betts <olly@survex.com>

	* INSTALL: Improved phrasing.
	* NEWS: Added draft entry for next release.

Wed Dec 07 02:46:53 GMT 2005  Olly Betts <olly@survex.com>

	* php/docs/bindings.html: Fix typo.

Wed Dec 07 02:42:51 GMT 2005  Olly Betts <olly@survex.com>

	* php/docs/bindings.html: Fix typo; note that SWIG doesn't currently
	  support proxy classes in PHP5.

Wed Nov 30 00:22:33 GMT 2005  Olly Betts <olly@survex.com>

	* java/README,java/native/Enquire.cc,java/org/xapian/Enquire.java:
	  Wrap optional second parameter (query length) to
	  Enquire::set_query().

Tue Nov 29 04:31:44 GMT 2005  Olly Betts <olly@survex.com>

	* README: Improved.

Tue Nov 29 04:11:18 GMT 2005  Olly Betts <olly@survex.com>

	* configure.ac,php/Makefile.am: Bump required SWIG version to 1.3.26
	  and drop the special requirement for 1.3.22 for PHP (hurrah!)

Tue Nov 29 03:46:40 GMT 2005  Olly Betts <olly@survex.com>

	* php/Makefile.am,php/php.ini: Instead of "$(PHP) -c $(srcdir)" and
	  having an empty php.ini in srcdir (which we were failing to
	  distribute anyway), use "$(PHP) -n" which tells PHP not to use any
	  php.ini file.

Tue Nov 29 00:48:06 GMT 2005  Olly Betts <olly@survex.com>

	* README: Updated list of languages SWIG supports.

Sun Oct 02 14:19:20 BST 2005  Olly Betts <olly@survex.com>

	* Makefile.am: Fixed "php4" -> "php" in DIST_SUBDIRS.

Sun Oct 02 00:15:06 BST 2005  Olly Betts <olly@survex.com>

	* INSTALL,configure.ac: Add -lstdc++ to XAPIAN_LIBS if we're using
	  GCC.  OpenBSD needs it to be explicitly specified and libtool
	  handles this if it would have been implicitly linked with anyway.
	* INSTALL: Improved and expanded the text in a few places.

Sat Oct 01 14:04:51 BST 2005  Olly Betts <olly@survex.com>

	* README,configure.ac,php/,php4/: Fabrice Colin reports that the PHP4
	  bindings also work with PHP5 so extend configure test to look for
	  PHP5 too, rename "php4" directory to "php", and change other
	  references to PHP4 too.

Mon Sep 26 22:39:01 BST 2005  Olly Betts <olly@survex.com>

	* INSTALL,configure.ac: On darwin, ensure MACOSX_DEPLOYMENT_TARGET is
	  set to at least 10.3.  This is required to link the bindings, and
	  it doesn't seem to be possible to link them on 10.1 or 10.2 anyway.
	* INSTALL: Update to reflect --with and --without option changes.
	* INSTALL: Added notes about OpenBSD issues and issues with compiling
	  the bindings requiring a lot of memory.

Mon Sep 19 13:19:59 BST 2005  Olly Betts <olly@survex.com>

	* configure.ac: Change how which bindings to build are selected.  If
	  no --with* arguments are passed, then we default to building
	  bindings we detect the required tools for.  But instead of requiring
	  users to deselect bindings they don't want, they now select bindings
	  they do want.  So "./configure --with-python" will only build the
	  python bindings (and will fail if the required tools aren't
	  installed).

Sun Sep 18 23:58:08 BST 2005  Olly Betts <olly@survex.com>

	* configure.ac,csharp/Makefile.am,guile/Makefile.am,
	  java/native/Makefile.am,php4/Makefile.am,python/Makefile.am,
	  tcl8/Makefile.am: Rework how XAPIAN_CXXFLAGS is passed through
	  so that the user can override CXXFLAGS like so: make CXXFLAGS=-g

Fri Jul 15 11:12:13 BST 2005  Olly Betts <olly@survex.com>

	* configure.ac: Updated for 0.9.2.

Fri Jul 15 10:21:17 BST 2005  Olly Betts <olly@survex.com>

	* xapian.i: Added semicolon missing from recent change.

Fri Jul 15 02:15:10 BST 2005  Olly Betts <olly@survex.com>

	* NEWS: Updated for 0.9.2.

Fri Jul 15 02:10:07 BST 2005  Olly Betts <olly@survex.com>

	* xapian.i: Added wrappers for new optional flags argument to
	  QueryParser::parse_query().

Fri Jun 24 12:00:19 BST 2005  Olly Betts <olly@survex.com>

	* java/README: Add success report for Sun java 1.4.1_01a.

Fri Jun 24 11:13:03 BST 2005  Olly Betts <olly@survex.com>

	* java/Makefile.am: Actually distribute SmokeTest.java.

Fri Jun 17 03:18:19 BST 2005  Olly Betts <olly@survex.com>

	* configure.ac: csharp build uses a tool from GNU Mono called "mcs"
	  but some UNIX variants ship with a tool called "mcs" which does
	  something else.  For now, simply check the "mcs --version" is
	  understood.

Thu Jun 16 19:12:41 BST 2005  Olly Betts <olly@survex.com>

	* python/util.i: When converting a python list to vector<string> we
	  know the number of elements so reserve that number in the vector.

Thu Jun 16 19:02:03 BST 2005  Olly Betts <olly@survex.com>

	* python/util.i: Remove bogus ";" after closing "}" of "namespace {}".

Mon Jun 06 18:50:54 BST 2005  Olly Betts <olly@survex.com>

	* NEWS: Updated for 0.9.1.

Mon Jun 06 18:48:42 BST 2005  Olly Betts <olly@survex.com>

	* tcl8/docs/bindings.html: Added information from Michael Schlenker
	  about how to delete a database object such that the destructor
	  gets called.

Mon Jun 06 17:58:16 BST 2005  Olly Betts <olly@survex.com>

	* configure.ac,NEWS: Updated for 0.9.1.

Fri May 13 00:34:22 BST 2005  Olly Betts <olly@survex.com>

	* NEWS: Updated with Java information for 0.9.0.

Fri May 13 00:29:31 BST 2005  Olly Betts <olly@survex.com>

	* java/native/Query.cc,java/native/org_xapian_XapianJNI.h,
	  java/org/xapian/Query.java,java/org/xapian/XapianJNI.java,
	  java/README: Wrap optional parameters of Query(term) ctor.

Fri May 13 00:26:24 BST 2005  Olly Betts <olly@survex.com>

	* NEWS,configure.ac: Updated for 0.9.0.

Wed May 11 02:15:23 BST 2005  Olly Betts <olly@survex.com>

	* java/native/Query.cc,java/native/MSet.cc,
	  java/native/org_xapian_XapianJNI.h,java/org/xapian/Query.java,
	  java/org/xapian/MSet.java,java/org/xapian/XapianJNI.java: Updates to
	  enable compilation with 0.9.0.
	* java/Makefile.am: Add .java.class: rule so SmokeTest can be built.
	* java/README: List API additions still to be wrapped.

Tue May 10 21:01:57 BST 2005  Olly Betts <olly@survex.com>

	* python/extra.i: Should be ValueIter not ValueIterator, and fixed up
	  a few typos in the code.

Tue May 10 01:24:59 BST 2005  Olly Betts <olly@survex.com>

	* configure.ac,python/Makefile.am: Quote another setting of
	  PYTHONPATH; Don't set PYTHON_LIBS on cygwin; fix undoubled []
	  in setting of PYTHON_LIBS.

Mon May 09 20:37:42 BST 2005  Olly Betts <olly@survex.com>

	* NEWS: Updated again.

Mon May 09 18:47:46 BST 2005  Olly Betts <olly@survex.com>

	* configure.ac,python/Makefile.am: Changes to help building the python
	  bindings under mingw.

Mon May 09 15:22:30 BST 2005  Olly Betts <olly@survex.com>

	* python/Makefile.am: Add "" around PYTHONPATH setting in
	  TESTS_ENVIRONMENT to protect PYTHON_PATHSEP from the shell
	  (PYTHON_PATHSEP is ';' under Windows).
	* python/Makefile.am: Explicitly pass -outdir to SWIG because Windows
	  versions of SWIG only consider '\' as a directory separator when
	  extracting the directory from the argument to -o.

Mon May 09 11:02:08 BST 2005  Olly Betts <olly@survex.com>

	* configure.ac: If python is found, also check that Python.h exists
	  (it may not be if the python-dev package (or similar) isn't
	  installed).

Mon May 09 11:00:08 BST 2005  Olly Betts <olly@survex.com>

	* python/extra.i: Removed python iter wrappers for removed methods
	  QueryParser::termlist_begin() and termlist_end().

Mon May 09 10:54:47 BST 2005  Olly Betts <olly@survex.com>

	* xapian.i: Removed wrappers for removed methods
	  QueryParser::termlist_begin() and termlist_end().

Fri May 06 23:22:28 BST 2005  Olly Betts <olly@survex.com>

	* NEWS: Updated in preparation for 0.9.0.

Fri May 06 20:39:50 BST 2005  Olly Betts <olly@survex.com>

	* python/Makefile.am: Use correct path separator in PYTHONPATH when
	  generating .pyc file.

Fri May 06 17:57:05 BST 2005  Olly Betts <olly@survex.com>

	* configure.ac,python/Makefile.am: Make configure probe for correct
	  separator to use in PYTHONPATH.

Thu May 05 13:17:36 BST 2005  Olly Betts <olly@survex.com>

	* skiptest: Add skiptest script needed by last-but-one commit.

Thu May 05 12:44:01 BST 2005  Olly Betts <olly@survex.com>

	* xapian.i: Back out PHP4 specific hacks added since 0.8.5 which
	  were only needed for SWIG 1.3.23 and later,

Wed May 04 18:07:49 BST 2005  Olly Betts <olly@survex.com>

	* configure.ac,Makefile.am: Setting PHP4 to "exit 77 #" doesn't
	  actually work right, so use a trivial shell script to skip PHP
	  tests if we can't find the PHP interpreter.

Wed May 04 02:00:31 BST 2005  Olly Betts <olly@survex.com>

	* csharp/Makefile.am,python/Makefile.am,java/native/Makefile.am,
	  guile/Makefile.am,tcl8/Makefile.am,php4/Makefile.am: Pass
	  -no-undefined in *_la_LDFLAGS because libtool requires in on
	  MS Windows.  Also use $(PATH_SEPARATOR) instead of ':' when
	  specifying search paths.

Fri Apr 29 09:57:17 BST 2005  Olly Betts <olly@survex.com>

	* xapian.i: Rename second version of Muscat36::open_da() for guile
	  like we do for PHP4.
	* configure.ac: Disable guile by default, as it needs more work.

Thu Apr 28 21:21:23 BST 2005  Olly Betts <olly@survex.com>

	* xapian.i: If a backend is disabled in the xapian-core we're building
	  against, provide stub definitions of the database factory functions
	  so there isn't a link failure.
	* xapian.i: This means we can now wrap the Muscat36 factory functions.
	* xapian.i: QueryParser::set_stemming_options() has been renamed to
	  set_stemming_strategy().

Fri Apr 22 01:33:41 BST 2005  Olly Betts <olly@survex.com>

	* xapian.i: Updated to reflect 0.9.0 API.

Thu Apr 07 23:49:51 BST 2005  Olly Betts <olly@survex.com>

	* xapian.i: Removed superfluous ';' after 'namespace { ... }'.

Tue Apr 05 15:23:44 BST 2005  Olly Betts <olly@survex.com>

	* configure.ac: Fix version test to allow for any _svn6789 suffix.

Tue Apr 05 00:50:36 BST 2005  Olly Betts <olly@survex.com>

	* csharp/.cvsignore,python/docs/.cvsignore,
	  python/docs/examples/.cvsignore,python/.cvsignore,
	  java/native/.cvsignore,java/org/xapian/errors/.cvsignore,
	  java/org/xapian/.cvsignore,java/org/xapian/examples/.cvsignore,
	  java/org/.cvsignore,java/.cvsignore,debian/.cvsignore,
	  guile/.cvsignore,tcl8/docs/.cvsignore,tcl8/docs/examples/.cvsignore,
	  tcl8/.cvsignore,php4/docs/.cvsignore,php4/docs/examples/.cvsignore,
	  php4/.cvsignore,.cvsignore: Remove .cvsignore files, as they're not
	  used by SVN.

Tue Apr 05 00:34:09 BST 2005  Olly Betts <olly@survex.com>

	* configure.ac,php4/Makefile.am: There are problems with the PHP glue
	  code produced by SWIG 1.3.23 and later - optional arguments aren't
	  optional.  So add back the SWIG_1_3_22 machinery.

Tue Mar 29 15:14:11 BST 2005  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Updated list of generated .cs files.

Tue Mar 29 14:48:21 BST 2005  Olly Betts <olly@survex.com>

	* xapian.i: Fix C# warnings.

Tue Mar 29 13:57:36 BST 2005  Olly Betts <olly@survex.com>

	* xapian.i: For PHP4, rename default Database ctor to Database_empty
	  instead of suppressing the Database(const string &path) ctor.

Tue Mar 29 13:39:36 BST 2005  Olly Betts <olly@survex.com>

	* configure.ac: Pass -Werror to SWIG.
	* xapian.i: Fix all the SWIG warnings which are now errors.

Tue Mar 29 13:29:47 BST 2005  James Aylett  <james@tartarus.org>

	* don't wrap MSet::max_size() as it's there for STL
	  compatibility rather than useful functionality.

Tue Mar 29 11:55:26 BST 2005  James Aylett  <james@tartarus.org>

	* when running PHP4 tests, use a blank config file so that if
	  the xapian bindings are already installed as an extension and
	  loaded automatically in the default config, they won't be
	  during the test run.

	  The tests use dl(), so will pick up the version we've just
	  built.

Tue Mar 29 10:32:36 BST 2005  Olly Betts <olly@survex.com>

	* configure.ac,php4/Makefile.am: SWIG > 1.3.22 *does* work for PHP -
	  the problem was that I had an older PHP SWIG glue shared library
	  installed and this clashes with new glue libraries (but not older
	  ones).  So strip out the machinery to use a different SWIG version
	  for PHP.
	* configure.ac: Require SWIG >= 1.3.24.

Mon Mar 21 09:37:45 GMT 2005  James Aylett  <james@tartarus.org>

	* xapian.i: updated SWIG-based bindings to latest API

	* python/extra.i: more Python-style iterators

	* tcl8/docs/.cvsignore, tcl8/docs/examples/.cvsignore: ignore
	  autogenerated Makefile.in, Makefile

Mon Mar 21 07:01:14 GMT 2005  Olly Betts <olly@survex.com>

	* configure.ac,php4/Makefile.am: Use SWIG 1.3.22 for PHP bindings
	  as more recent versions don't work.
	* configure.ac: If configure can't find the php interpreter (as php4
	  or php), it probably just means it's not on PATH.  We only need it
	  for running the smoketest, so substitute "exit 77 #" instead which
	  will cause the test to skip (previously we substituted "missing"
	  which causes the test to fail).

Wed Feb 23 04:08:55 GMT 2005  Olly Betts <olly@survex.com>

	* NEWS: Updated for 0.8.5.1.

Wed Feb 23 04:07:48 GMT 2005  Olly Betts <olly@survex.com>

	* README: Refer reader to java/README for java specific information.

Tue Feb 22 16:12:55 GMT 2005  Olly Betts <olly@survex.com>

	* java/Makefile.am,java/README,java/native/Makefile.am,
	  java/org/xapian/Makefile.am,java/org/xapian/errors/Makefile.am:
	  Fixed how the jar file is made, and build it directory to the built
	  subdirectory rather than requiring an "install" step.  Updated the
	  README to add a "how to build" section.  Tweak the java commands in
	  the README for running the examples to work around a bug in Debian
	  gij's java wrapper script.  Added a README section about tested java
	  platforms.  Automatically "install" the JNI glue library in "built"
	  and remove the .la file (which is useless here).

Tue Feb 22 01:38:14 GMT 2005  Olly Betts <olly@survex.com>

	* configure.ac: Set version to 0.8.5.1 and fix version check.

Mon Feb 21 20:17:07 GMT 2005  Olly Betts <olly@survex.com>

	* COPYING: This code is under the GPL (except the Java bindings which
	  are MIT-style, but that's GPL compatible anyway).

Mon Feb 21 20:11:36 GMT 2005  Olly Betts <olly@survex.com>

	* configure.ac: Run tests using the C++ compiler; Allow bindings
	  version to have an extra "patchlevel", yet still match with
	  corresponding xapian-core version (e.g. 0.8.5.1 and 0.8.5);
	  Use "-Wno-unused" when compiling JNI C++ code to ignore harmless
	  warnings in generated code (we were specially passing "-Wunused"
	  which was a thinko I believe!)

Mon Feb 21 20:08:56 GMT 2005  Olly Betts <olly@survex.com>

	* java/Makefile.am,java/org/xapian/examples/Makefile.am: "make clean"
	  should remove the generated class files.

Mon Feb 21 20:06:19 GMT 2005  Olly Betts <olly@survex.com>

	* java/README: Added list of unwrapped methods and classes.

Mon Feb 21 20:03:06 GMT 2005  Olly Betts <olly@survex.com>

	* java/.cvsignore: Add "built" directory.

Mon Feb 21 20:02:17 GMT 2005  Olly Betts <olly@survex.com>

	* java/Makefile.am,java/run-java-test: Run SmokeTest on "make check".

Mon Feb 21 18:42:32 GMT 2005  Olly Betts <olly@survex.com>

	* java/org/xapian/ExpandDecider.java,
	  java/org/xapian/MatchDecider.java: Fix GCJ warning.

Mon Feb 21 18:42:03 GMT 2005  Olly Betts <olly@survex.com>

	* java/org/xapian/errors/Makefile.am: Remove lingering reference to
	  InvalidDataError.java and InvalidDataError.class.

Mon Feb 21 05:16:28 GMT 2005  Olly Betts <olly@survex.com>

	* java/.cvsignore,java/SmokeTest.java,java/native/,java/org/xapian/,
	  java/org/xapian/errors/,java/org/xapian/examples/:
	  Added missing .java sources and removed unused ones; Added java
	  smoketest (not yet run automatically); Added .cvsignore files for
	  generated files; Updated to use new ctors for Database and
	  WritableDatabase which replace Auto::open(); Wrap
	  Database::get_lastdocid(); Wrap ESetIterator::prev() and
	  MSetIterator::prev(); Fixed glitches in automake build system;
	  Prefer Query::empty() to Query::is_empty(); Wrap InMemory::open();
	  Disable Eric's QueryParser - for consistency we should wrap the
	  C++ version by default; Removed forced flush() from
	  WritableDatabase::delete_document() wrapper.
	* java/org/xapian/examples/SimpleSearch.java: tweaked to be more like
	  the C++ version.

Mon Feb 21 05:02:30 GMT 2005  Olly Betts <olly@survex.com>

	* java/README: Need . in -classpath.

Tue Jan 18 02:27:06 GMT 2005  Olly Betts <olly@survex.com>

	* java/org/xapian/Xapian.java: Another missing java source!

Sun Jan 09 13:59:17 GMT 2005  Olly Betts <olly@survex.com>

	* configure.ac: Check for "php" as well as "php4", and fall-back to
	  missing so the error message from "make check" is better.

Thu Dec 23 19:17:39 GMT 2004  Olly Betts <olly@survex.com>

	* configure.ac,NEWS: Version 0.8.5.

Thu Dec 23 19:16:53 GMT 2004  Olly Betts <olly@survex.com>

	* INSTALL,README: Added better installation instructions.

Mon Dec 20 16:29:01 GMT 2004  Olly Betts <olly@survex.com>

	* python/Makefile.am: Simpler .pyc fix.

Fri Dec 10 17:13:52 GMT 2004  Richard Boulton <richard@tartarus.org>

	* python/Makefile.am: Fixed bytecode compilation of xapian.py.
	  xapian.pyc was being generated in the same directory
	  as xapian.py, but Makefile.am was looking in current directory
	  when installing it.  Additionally, VPATH builds were broken.

Wed Dec 08 16:18:39 GMT 2004  Olly Betts <olly@survex.com>

	* NEWS: Fixed typo, bumped date.

Wed Dec 08 02:13:25 GMT 2004  Olly Betts <olly@survex.com>

	* php4/docs/bindings.html,python/docs/bindings.html,
	  tcl8/docs/bindings.html: Reworked text about Xapian::Auto namespace
	  and a few other tweaks.

Tue Dec 07 19:55:48 GMT 2004  Olly Betts <olly@survex.com>

	* xapian.i,php4/docs/examples/simpleindex.php,
	  php4/docs/examples/simplesearch.php,python/docs/examples/,
	  tcl8/docs/bindings.html,tcl8/docs/examples/simpleindex.tcl,
	  tcl8/docs/examples/simplesearch.tcl: Wrap the new constructors
	  for Database and WritableDatabase, use these in the examples,
	  and removed mentions of Auto::open() from the documentation.
	  Don't wrap the WritableDatabase forms of Auto::open() and
	  Quartz::open() in tcl8 since the destructor never gets called.

Tue Dec 07 19:53:48 GMT 2004  Olly Betts <olly@survex.com>

	* README: Updated to list fully supported languages and improved
	  wording.

Thu Dec 02 13:31:40 GMT 2004  Olly Betts <olly@survex.com>

	* xapian.i: Weight::clone is for internal use - don't wrap it.
	* xapian.i: For PHP4, rename the default BM25Weight ctor to
	  BM25Weight_default and the default TradWeight ctor to
	  TradWeight_default.

Thu Dec 02 13:30:55 GMT 2004  Olly Betts <olly@survex.com>

	* python/Makefile.am: test -d before mkdir to avoid worrying looking
	  warning from make.

Thu Dec 02 03:40:16 GMT 2004  Olly Betts <olly@survex.com>

	* NEWS: Updated.

Thu Dec 02 03:37:06 GMT 2004  Olly Betts <olly@survex.com>

	* configure.ac: SWIG 1.3.23 causes warnings (and quite likely problems)
	  with PHP4.  It helps C#, but since that's unfinished, PHP4
	  definitely matters more, so drop back to SWIG 1.3.22.

Thu Dec 02 03:27:37 GMT 2004  Olly Betts <olly@survex.com>

	* configure.ac: Added tcl8/docs/Makefile tcl8/docs/examples/Makefile
	  to AC_CONFIG_FILES.

Thu Dec 02 03:05:11 GMT 2004  Olly Betts <olly@survex.com>

	* NEWS,xapian.i: Removed the director for Xapian::Weight for now,
	  since it was causing swig to generate code which didn't compile.

Thu Dec 02 03:03:39 GMT 2004  Olly Betts <olly@survex.com>

	* python/.cvsignore: Updated.

Thu Dec 02 03:00:56 GMT 2004  Olly Betts <olly@survex.com>

	* python/Makefile.am: Fixed PYTHONPATH for running smoketest.py.

Wed Dec 01 21:32:02 GMT 2004  Olly Betts <olly@survex.com>

	* xapian.i: Prototype Weight::clone() method so that SWIG directors
	  know about it.

Wed Dec 01 16:11:32 GMT 2004  Olly Betts <olly@survex.com>

	* tcl8/Makefile.am,tcl8/docs/Makefile.am,
	  tcl8/docs/examples/Makefile.am: Ship and install docs and examples
	  for tcl8 bindings.

Wed Dec 01 15:41:56 GMT 2004  Olly Betts <olly@survex.com>

	* Makefile.am: Distribute xapian-bindings.spec.in.

Wed Dec 01 15:39:55 GMT 2004  Olly Betts <olly@survex.com>

	* xapian-bindings.spec.in: No longer need "BuildRequires: swig";
	  disable building of csharp bindings; package tcl8 documentation;
	  updated to package the tcl8 bindings at their new location.

Wed Dec 01 05:59:24 GMT 2004  Olly Betts <olly@survex.com>

	* NEWS: It's now tomorrow, so bump the 0.8.4 release date.

Wed Dec 01 05:57:41 GMT 2004  Olly Betts <olly@survex.com>

	* tcl8/docs/examples/simplesearch.tcl: Need Tcl 8.1 or later.

Wed Dec 01 05:54:45 GMT 2004  Olly Betts <olly@survex.com>

	* tcl8/docs/examples/simpleindex.tcl: Tweaked to actually work.

Wed Dec 01 05:18:18 GMT 2004  Olly Betts <olly@survex.com>

	* tcl8/docs/examples/simpleindex.tcl: Simpler, more idiomatic code
	  which doesn't rely on features added since Tcl 8.1.

Tue Nov 30 22:42:14 GMT 2004  Olly Betts <olly@survex.com>

	* NEWS,configure.ac: Updated for 0.8.4 release.

Mon Nov 29 04:17:42 GMT 2004  Olly Betts <olly@survex.com>

	* configure.ac,csharp/Makefile.am,guile/Makefile.am,php4/Makefile.am,
	  python/Makefile.am,tcl8/Makefile.am: Instead of requiring the user
	  to have a really recent SWIG installed, ship the files SWIG
	  generates.  Disable all the SWIG rules unless configure is run
	  with --enable-maintainer-mode to make sure they aren't triggered
	  accidentally by make with dodgy VPATH or anything else.
	* csharp/Makefile.am: Updated the list of generated .cs files to
	  include the subclasses of Weight.

Sun Nov 28 02:51:37 GMT 2004  Olly Betts <olly@survex.com>

	* csharp/TODO: Note that SWIG 1.3.23 apparently implements optional
	  parameters for C#.

Sun Nov 28 01:50:45 GMT 2004  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Wrapping for Xapian::Weight means we need to add
	  Weight.cs to the list of generated sources.

Sat Nov 27 03:00:24 GMT 2004  Olly Betts <olly@survex.com>

	* xapian.i: Mark Weight as needing a director for Python.

Tue Nov 16 02:59:18 GMT 2004  Olly Betts <olly@survex.com>

	* configure.ac,csharp/Makefile.am,guile/Makefile.am,php4/Makefile.am,
	  python/Makefile.am,tcl8/Makefile.am: Use newly added option
	  `xapian-config --swigflags` which (a) avoids always passing
	  -I/usr/include which could cause problems if we're using a Xapian
	  install not in /usr and there's another one in /usr and (b) avoids
	  problems if `xapian-config --cxxflags` contains flags other than
	  -I<something>.

Sun Nov 14 06:30:47 GMT 2004  Olly Betts <olly@survex.com>

	* xapian.i: Wrapped Xapian::Weight and subclasses (compiles, but
	  otherwise totally untested).  Nothing special is done about
	  directors, so deriving your own Weight subclass in the scripting
	  language probably won't currently work.

Wed Nov 10 03:32:23 GMT 2004  Olly Betts <olly@survex.com>

	* README: Improved a bit.

Wed Nov 10 03:24:08 GMT 2004  Olly Betts <olly@survex.com>

	* xapian.i: %name is deprecated, so use %rename instead.  This also
	  works around a bug currently in SWIG CVS HEAD.

Wed Nov 10 01:47:33 GMT 2004  Olly Betts <olly@survex.com>

	* xapian.i: Second argument to Document::add_posting() isn't optional.

Tue Nov 09 03:06:56 GMT 2004  Olly Betts <olly@survex.com>

	* configure.ac,csharp/Makefile.am,guile/Makefile.am,
	  java/native/Makefile.am,php4/Makefile.am,python/Makefile.am,
	  tcl8/Makefile.am: We now get -AA or -std strict_ansi from
	  xapian-config, so we don't need to probe for them ourselves.

Sat Nov 06 16:19:30 GMT 2004  Olly Betts <olly@survex.com>

	* configure.ac: Check GXX instead of GCC when deciding whether to pass
	  GCC specific warning flags.

Sat Nov 06 13:04:52 GMT 2004  Olly Betts <olly@survex.com>

	* configure.ac: Reinstated the check that the bindings version matches
	  the version of the xapian library.  It was added in 0.8.2, but
	  accidentally removed in 0.8.3.

Sat Nov 06 12:44:40 GMT 2004  Olly Betts <olly@survex.com>

	* configure.ac: Protect tcl header version test by prepending x to
	  both the strings being tested.

Tue Nov 02 05:59:54 GMT 2004  Olly Betts <olly@survex.com>

	* configure.ac: Removed pointless probe for a C compiler.

Tue Nov 02 05:54:45 GMT 2004  Olly Betts <olly@survex.com>

	* configure.ac: Require SWIG 1.3.22 (for guile).

Sat Oct 30 19:51:10 BST 2004  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Contents of xxx_SOURCES must be literal.

Thu Oct 28 04:45:15 BST 2004  Olly Betts <olly@survex.com>

	* csharp/Makefile.am,csharp/SmokeTest.cs: Added a smoketest.
	  Currently it fails.
	* csharp/Makefile.am: Updated list of generated .cs files.

Thu Oct 28 04:37:31 BST 2004  Olly Betts <olly@survex.com>

	* xapian.i: In the Query ctor which takes a vector of terms, only
	  call set_window if window is non-zero.  Otherwise things go wrong
	  if we're passed an empty vector.

Wed Oct 27 03:34:10 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac: Added note that the bindings can easily be compiled
	  for use with Tcl 8.0, in case anybody needs that for some reason.

Sun Oct 24 02:07:31 BST 2004  Olly Betts <olly@survex.com>

	* python/docs/examples/simpleindex.py: Trim spaces from the start as
	  well as from the end of each line.  Simplify the loop slightly.

Sun Oct 24 01:54:17 BST 2004  Olly Betts <olly@survex.com>

	* tcl8/docs/bindings.html,tcl8/docs/examples/simpleindex.tcl: Added
	  Tcl version of simpleindex from xapian-examples.

Sat Oct 23 15:57:00 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac,tcl8/Makefile.am: Use the TCL_STUBS mechanism so that
	  compiled extensions are portable between different versions of Tcl.
	  This needs Tcl 8.1, so bump the required Tcl version (was 8.0).
	  Also install in the directory above $tcl_library so the built
	  extension can be found by other Tcl versions.

Fri Oct 22 03:24:11 BST 2004  Olly Betts <olly@survex.com>

	* php4/docs/bindings.html,python/docs/bindings.html,
	  tcl8/docs/bindings.html: Mention the example scripts near the start
	  of the documentation, not right at the end.
	* php4/docs/bindings.html: Remove documentation explicitly saying
	  how we wrap Xapian::QueryParser and Xapian::Stem since we wrap them
	  exactly as we wrap everything else we don't mention!

Fri Oct 22 03:21:20 BST 2004  Olly Betts <olly@survex.com>

	* tcl8/.cvsignore,tcl8/Makefile.am: Pass -pkgversion to SWIG to set
	  the Tcl package version; create pkgIndex.tcl so the package can
	  be loaded in the usual Tcl way; install in "xapian<VERSION>"
	  subdirectory of the Tcl library directory, as is the convention.

Fri Oct 22 02:36:00 BST 2004  Olly Betts <olly@survex.com>

	* tcl8/docs/bindings.html: Added documentation for tcl8.

Fri Oct 22 02:21:48 BST 2004  Olly Betts <olly@survex.com>

	* python/docs/examples/simpleexpand.py,
	  python/docs/examples/simplematchdecider.py,
	  python/docs/examples/simplesearch.py: Changed to use James' newly
	  wrapped Query from list of terms ctor.
	* python/docs/examples/simplematchdecider.py: Make the example
	  MatchDecider exclude documents matching a value, rather than a term.
	  The latter is a very inefficient way to do what AND_NOT does, and
	  we don't want examples to mislead like that.

Thu Oct 21 18:00:14 BST 2004  Olly Betts <olly@survex.com>

	* python/docs/bindings.html: Note that you can construct a query
	  from a list of terms, even if you can't from a list of queries.
	  Add HTML links to the examples.

Thu Oct 21 17:44:19 BST 2004  Olly Betts <olly@survex.com>

	* python/docs/bindings.html: Remove documentation explicitly saying
	  how we wrap Xapian::QueryParser and Xapian::Stem since we wrap them
	  exactly as we wrap everything else we don't mention!  Also mention
	  simpleexpand example.

Thu Oct 21 16:59:03 BST 2004  Olly Betts <olly@survex.com>

	* php4/Makefile.am: Note why we pass -I. to SWIG.

Thu Oct 21 02:45:15 BST 2004  Olly Betts <olly@survex.com>

	* xapian.i: It turns out that we do need to wrap MSet::MSet() after
	  all (simpleexpand.py uses it, for example).

Thu Oct 21 02:43:34 BST 2004  Olly Betts <olly@survex.com>

	* python/docs/examples/: Report messages for Xapian exceptions.
	  Removed MAX_PROB_TERM_LENGTH from scripts which don't use it.

Thu Oct 21 01:39:08 BST 2004  Olly Betts <olly@survex.com>

	* tcl8/smoketest.tcl: Explicitly require at least Tcl version 8.

Thu Oct 21 01:35:28 BST 2004  Olly Betts <olly@survex.com>

	* tcl8/docs/examples/simplesearch.tcl: Use more idiomatic (and less
	  idiotic) Tcl thanks to contributions from Michael Schlenker.

Wed Oct 20 05:29:57 BST 2004  Olly Betts <olly@survex.com>

	* tcl8/docs/examples/simplesearch.tcl: Sussed out what Query::OP_OR
	  is wrapped as.

Wed Oct 20 05:18:36 BST 2004  Olly Betts <olly@survex.com>

	* tcl8/docs/examples/simplesearch.tcl: Translated simplesearch into
	  Tcl.

Tue Oct 19 21:07:06 BST 2004  Olly Betts <olly@survex.com>

	* python/Makefile.am: Added xapian_wrap.h as a target for the rule
	  which runs SWIG.

Tue Oct 19 21:05:11 BST 2004  Olly Betts <olly@survex.com>

	* tcl8/Makefile.am: Wrap in a tcl8 namespace "Xapian".
	* tcl8/Makefile.am,tcl8/smoketest.tcl: Added a smoketest.

Wed Oct  6 17:28:54 BST 2004  James Aylett  <james@tartarus.org>

	* get overloaded Query(Query::op, vector<string>*, termpos)
	  constructor working in Python

Thu Sep 30 02:29:13 BST 2004  Richard Boulton <richard@tartarus.org>

	* csharp/Makefile.am: Add XapianSharp.snk to CLEANFILES.
	  Place generated bindings into C# namespace "Xapian".
	  Change module name to Xapian. (Assembly remains as XapianSharp).
	  Remove -noproxy option from swig.
	  Update list of csharp source file to work with new swig options.
	* csharp/.cvsignore: Add XapianSharp.snk, now it's a generated
	  file.

Wed Sep 29 19:04:41 BST 2004  Olly Betts <olly@survex.com>

	* xapian.i: Reenabled inclusion of typemaps.i and exception.i for
	  Guile.  This was disabled in June 2000.  4 years later SWIG seems
	  to process them successfully.

Wed Sep 29 19:01:28 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac,csharp/Makefile.am: Get configure to find sn.

Wed Sep 29 17:23:23 BST 2004  Richard Boulton <richard@tartarus.org>

	* csharp/: Generate strong name file automatically.

Wed Sep 29 14:17:50 BST 2004  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Added "touch op.cs" so the build system works
	  on SWIG <= 1.3.21 as well as SWIG 1.3.22.

Wed Sep 29 14:11:48 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac: CSharp bindings now build, so enable them if the
	  required tools are available.

Wed Sep 29 03:00:05 BST 2004  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Removed hardcoded values for GACUTIL and CSC
	  which were overriding any values configure tried to set.

Wed Sep 29 02:57:07 BST 2004  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Fixed to build when srcdir != builddir.

Tue Sep 28 20:33:21 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac: The guile bindings do now build (though I don't
	  know guile so can't test them), so enable the guile detection
	  machinery in configure.

Tue Sep 28 19:32:33 BST 2004  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Add op.cs to XAPIAN_SWIG_CS_SRCS.

Tue Sep 28 19:06:02 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac: AC_PATH_PROG calls AC_SUBST, so we don't need to.

Tue Sep 28 19:04:17 BST 2004  Olly Betts <olly@survex.com>

	* csharp/Makefile.am: Set AM_CXXFLAGS.

Tue Sep 28 16:45:25 BST 2004  Olly Betts <olly@survex.com>

	* xapian.i: Workaround not being able to include stl.i with C#.

Tue Sep 28 16:22:47 BST 2004  Richard Boulton <richard@tartarus.org>

	* csharp/AssemblyInfo.cs.in: New file - includes strong name
	  in the assembly.
	* csharp/Makefile.am: Build assembly with a strong name, to
	  make gacutil happy.  Use gacutil to install the assembly.
	  Change xapian_wrap.cc to XapianSharp.cc
	* csharp/XapianSharp.snk: New file - strong name for XapianSharp.
	* csharp/.cvsignore: Ignore XapianSharp.{cc,loT}
	* configure.ac: Generate csharp/AssemblyInfo.cs

Sun Sep 26 19:34:54 BST 2004  Richard Boulton <richard@tartarus.org>

	* README: Mention that I'm working on C# bindings.
	* csharp/.cvsignore: Ignore generated .cs and .dll files

Sat Sep 25 02:51:22 BST 2004  Richard Boulton <richard@tartarus.org>

	* configure.ac,Makefile.am,csharp/: Add C sharp bindings, created
	  with SWIG.  Build disabled by default for now, because these are
	  completely untested, and probably need quite a bit of work.  In
	  addition, all the SWIG packages I've found seem to require a
	  patch to work correctly with csharp (various stl_*.i packages are
	  reported missing, creating them with "touch" seems to work, but
	  may break things subtly).  I need to learn C# before I can test
	  these bindings...

Mon Sep 20 15:28:04 BST 2004  Olly Betts <olly@survex.com>

	* NEWS,configure.ac: Version 0.8.3.

Mon Sep 20 15:10:57 BST 2004  Olly Betts <olly@survex.com>

	* java/org/xapian/.cvsignore,java/org/xapian/errors/.cvsignore:
	  Updated to ignore .class files.

Sun Sep 19 23:28:14 BST 2004  Olly Betts <olly@survex.com>

	* .cvsignore,Makefile.am,configure.ac,xapian-bindings.spec.in:
	  Added spec file contributed by Fabrice Colin.

Sun Sep 19 17:56:32 BST 2004  Olly Betts <olly@survex.com>

	* guile/.cvsignore: Added xapian_wrap.cc and xapianc.la.

Fri Sep 17 10:00:59 BST 2004  Olly Betts <olly@survex.com>

	* php4/docs/Makefile.am: Include php4/docs/bindings.html in the
	  tarball.

Fri Sep 17 00:54:12 BST 2004  Olly Betts <olly@survex.com>

	* php4/Makefile.am,python/Makefile.am: DIST_SUBDIRS is superfluous
	  when it's identical to SUBDIRS.

Fri Sep 17 00:52:47 BST 2004  Olly Betts <olly@survex.com>

	* java/org/xapian/Makefile.am,java/org/xapian/errors/Makefile.am:
	  Pass -classpath to javac; make sure errors subdirectory is built
	  before we try to build the jar file.

Fri Sep 17 00:00:25 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac,tcl8/Makefile.am: Improved check for tcl.h to work with
	  Fedora Core 2.

Thu Sep 16 23:02:28 BST 2004  Olly Betts <olly@survex.com>

	* java/native/Makefile.am,java/org/xapian/Makefile.am: Fixed "make
	  install" to not give libtool error.

Thu Sep 16 22:51:26 BST 2004  Olly Betts <olly@survex.com>

	* php4/docs/examples/Makefile.am: Include simplesearch.php and
	  simpleindex.php in the tarball.

Wed Sep 15 18:47:58 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac: Noted that -modern affects xapian.py (xapian_wrap.cc
	  is unchanged).

Wed Sep 15 18:22:23 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac,php4/Makefile.am: Removed the recently added
	  SWIG_PHP_LDFLAGS machinery.  We only need to pass those if
	  we use swig's -noruntime option (which we don't do).

Wed Sep 15 17:38:02 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac,python/Makefile.am: Use swig's -modern switch for
	  Python 2.2 and up - it gives cleaner, leaner, faster wrapper code.

Tue Sep 14 03:37:55 BST 2004  Olly Betts <olly@survex.com>

	* guile/Makefile.am,guile/extra.i: Added empty extra.i which
	  will be required when these bindings get ressurected.

Tue Sep 14 03:37:23 BST 2004  Olly Betts <olly@survex.com>

	* tcl8/Makefile.am: Don't install xapian.la.

Tue Sep 14 03:35:57 BST 2004  Olly Betts <olly@survex.com>

	* tcl8/extra.i: This had been copied from php4/extra.i without
	  changing reference in comments from PHP4 to Tcl - fixed.

Mon Sep 13 05:08:51 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac: Version 0.8.2.

Mon Sep 13 04:59:54 BST 2004  Olly Betts <olly@survex.com>

	* NEWS,xapian.i,php4/docs/bindings.html,python/docs/bindings.html:
	  Wrap ESet::back(), Database::get_lastdocid(), and the new optional
	  third parameter to Enquire::set_sorting().  Don't wrap MSet::MSet().
	  Wrap operator-- as prev() for MSetIterator and ESetIterator.  Wrap
	  Quartz, InMemory, and Remote database factory functions as
	  quartz_open(), inmemory_open(), and remote_open().  Wrap static
	  Stem::get_available_languages() and Stem::get_description().
	* php4/smoketest.php,python/smoketest.py: Open an InMemory database
	  and add the document to it as an additional test.

Sun Sep 12 14:31:17 BST 2004  Olly Betts <olly@survex.com>

	* xapian.i: Add back is_empty() aliases for compatibility.

Thu Sep 09 04:19:54 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac,php4/Makefile.am,php4/smoketest.php: Added smoke test
	  for PHP4 bindings.
	* python/Makefile.am: Fixed multiple setting of EXTRA_DIST.

Thu Sep 09 03:21:30 BST 2004  Olly Betts <olly@survex.com>

	* php4/docs/examples/simpleindex.php,
	  php4/docs/examples/simplesearch.php: Removed "dl('xapian.so')" -
	  instead document how to configure PHP to load the module.

Thu Sep 09 03:14:57 BST 2004  Olly Betts <olly@survex.com>

	* NEWS: Started to updated for next release.

Thu Sep 09 03:07:43 BST 2004  Olly Betts <olly@survex.com>

	* php4/docs/bindings.html: Added documentation on how to install the
	  PHP4 bindings.

Thu Sep 09 02:45:24 BST 2004  Olly Betts <olly@survex.com>

	* python/docs/bindings.html: Word-wrapped HTML source.

Thu Sep 09 02:40:17 BST 2004  Olly Betts <olly@survex.com>

	* php4/docs/bindings.html,python/docs/bindings.html: Removed
	  documentation of renaming of empty() methods.

Wed Sep 08 22:16:52 BST 2004  Olly Betts <olly@survex.com>

	* xapian.i: Updated for Query->is_empty() -> Query->empty().

Wed Sep 08 20:39:03 BST 2004  Olly Betts <olly@survex.com>

	* python/Makefile.am,python/smoketest.py: Added a simple testcase
	  to at least ensure the python bindings can be initialise and
	  some simple operations work.

Wed Sep 08 15:23:38 BST 2004  Olly Betts <olly@survex.com>

	* xapian.i: Remove renaming of empty() methods to is_empty().

Wed Sep 08 05:34:10 BST 2004  Olly Betts <olly@survex.com>

	* README: Pike support is now in SWIG it seems.

Wed Sep 08 05:30:58 BST 2004  Olly Betts <olly@survex.com>

	* README: Updated list of languages which SWIG supports.

Wed Sep 08 04:53:07 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac: Disable tcl8 bindings if the tcl8.X-dev package
	  isn't installed.

Wed Sep 08 04:52:19 BST 2004  Olly Betts <olly@survex.com>

	* tcl8/.cvsignore: Ignore xapian.la.

Wed Sep 08 04:49:50 BST 2004  Olly Betts <olly@survex.com>

	* tcl8/.cvsignore: Ignore generated xapian_wrap.cc.

Wed Sep 08 04:15:06 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac,guile/Makefile.am,java/native/Makefile.am,
	  php4/Makefile.am,python/Makefile.am,tcl8/Makefile.am:
	  Use special SWIG PHP ldflags when linking the PHP glue library;
	  Only pass -W* switches when building with GCC; Suppress compiler
	  warnings by passing -Wno-uninitialized when building SWIG glue code;
	  Python bindings now delete generated xapian_wrap.h on "make clean".

Wed Sep 08 04:06:02 BST 2004  Olly Betts <olly@survex.com>

	* python/util.i: Suppress SWIG warning about MatchDecider::operator()
	  director discarding const.

Wed Sep 08 02:37:17 BST 2004  Olly Betts <olly@survex.com>

	* php4/.cvsignore: Updated.

Wed Sep 08 01:27:54 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac,php4/.cvsignore,php4/Makefile.am,
	  php4/docs/bindings.html,php4/docs/examples/simpleindex.php,
	  php4/docs/examples/simplesearch.php: Actually ship docs and
	  examples; fixed bug in includes introduced in last checkin; output
	  swig wrapper as xapian_wrap.cc not xapian_wrap.cpp for consitency
	  with other bindings; fixed documentation of wrapping of
	  Xapian::Query::OP_*; example scripts now load the xapian PHP
	  extension; simplesearch now works with multi-term queries.

Tue Sep 07 22:20:16 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac,php4/.cvsignore,php4/Makefile.am: Don't use -phpfull
	  option to swig.  It's actually as easy to build and install the
	  shared library ourselves, and then we can link with an uninstalled
	  xapian library.

Tue Sep 07 22:18:20 BST 2004  Olly Betts <olly@survex.com>

	* python/Makefile.am: Fixed to use xapian_wrap.cpp not $@ - otherwise
	  "make xapian.py" doesn't work correctly.  Fixed typo in comment.

Fri Sep 03 18:44:56 BST 2004  Olly Betts <olly@survex.com>

	* python/.cvsignore: Added xapian.pyc.

Fri Sep 03 18:41:34 BST 2004  Olly Betts <olly@survex.com>

	* NEWS: Updated.

Fri Sep 03 18:34:21 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac,configure.in: Renamed configure.in to configure.ac.

Fri Sep 03 18:28:54 BST 2004  Olly Betts <olly@survex.com>

	* Makefile.am: Require automake 1.8.5.
	* configure.in: Require autoconf 2.59.  Note that SWIG 1.3.22 doesn't
	  seem to have any changes relevant to us.

Fri Sep 03 18:14:15 BST 2004  Olly Betts <olly@survex.com>

	* python/Makefile.am: Fixed to remove _xapian.la after it is installed
	  (preventing it being installed is really hard to do).  And
	  xapian.py and xapian.pyc aren't BUILT_SOURCES so just put them
	  directly in CLEANFILES.

Fri Sep 03 13:04:42 BST 2004  Olly Betts <olly@survex.com>

	* python/Makefile.am: Byte compile the python code and install that
	  too.

Fri Sep 03 13:03:55 BST 2004  Olly Betts <olly@survex.com>

	* configure.in: Tell libtool not to build static libraries as the
	  bindings all need dynamic ones which can be loaded at runtime.

Wed Sep 01 12:07:08 BST 2004  Olly Betts <olly@survex.com>

	* configure.in: Require Python >= 2.1 for __cmp__ and __eq__.

Thu Aug 19 17:20:45 BST 2004  Olly Betts <olly@survex.com>

	* php4/docs/bindings.html: Document that the 2 argument form of
	  Xapian::Auto::open() for opening a writable database is wrapped
	  as open_writable() (bug #32).

Thu Aug 12 13:26:16 BST 2004  Olly Betts <olly@survex.com>

	* configure.in: Check that the bindings version matches the version of
	  the xapian library.

Thu Aug 12 13:15:01 BST 2004  Olly Betts <olly@survex.com>

	* configure.in,php4/: Include xapian version in output from phpinfo().

Fri Jul 02 14:27:42 BST 2004  Olly Betts <olly@survex.com>

	* php4/docs/bindings.html: Reference to Xapian::Auto::DB_* should be
	  Xapian::DB_*.

Wed Jun 30 14:54:48 BST 2004  Olly Betts <olly@survex.com>

	* configure.in: Version 0.8.1; Corrected --without-tcl help to say
	  it disables Tcl (not Java!) and list the SWIG bindings which
	  --without-swig disables; note that SWIG 1.3.21 isn't relevant
	  and the SWIG changelog URL.

Wed Jun 30 00:09:58 BST 2004  Olly Betts <olly@survex.com>

	* NEWS: Updated for 0.8.1 release.

Tue Jun 29 23:26:36 BST 2004  Eric B. Ridge <ebr@tcdi.com>

	* java/native/,java/org/xapian/: Updates to java bindings:
	  - cleanup usages of XapianObjectHolder to be explicitly created
	    during library initialization
	  - make finalize() methods of Database and WritableDatabase public so
	    they can be called from the outside world (should probably have
	    added explicit close() methods instead).
	  - deprecate document_add_term_nopos(); completely remove from C++
	    wrapper

Tue Jun 29 17:30:17 BST 2004  Richard Boulton <richard@tartarus.org>

	* Makefile.am: Remove Debian files from distribution tarballs,
	  since there will often be multiple patch releases for each
	  release.  Debian files will be available from an apt repository
	  in future.

Tue Jun 29 01:20:22 BST 2004  Eric B. Ridge <ebr@tcdi.com>

	* java/org/xapian/errors/: Removed wrappers for unused error classes
	  which have been pruned from C++.

Sun Jun 27 00:57:25 BST 2004  Olly Betts <olly@survex.com>

	* java/org/xapian/errors/.cvsignore,
	  java/org/xapian/examples/.cvsignore: Created.

Fri May 28 14:35:29 BST 2004  James Aylett  <james@tartarus.org>

	* Add basic documentation and examples to PHP4 bindings.

	* For PHP4, rename overloaded methods and constructors.

	* Add simple access to the prefixes map in QueryParser.

	* Correct simpleindex ports to never generate empty termnames.

Wed May 26 16:18:47 BST 2004  Olly Betts <olly@survex.com>

	* configure.in: Require SWIG 1.3.20 or higher.

Wed May 26 14:51:50 BST 2004  Olly Betts <olly@survex.com>

	* xapian.i: Removed bogus extra ")".

Wed May 26 04:04:06 BST 2004  Olly Betts <olly@survex.com>

	* xapian.i: Fixed the %exception handler to cover all the exceptions
	  Xapian can throw, not just a subset.

Thu May 20 15:55:36 BST 2004  Richard Boulton <richard@tartarus.org>

	* python/docs/: Add examples and documentation to dist (were being
	  installed, but not added to dist, causing make distcheck, and
	  dpkg-buildpackage, to fail).

Thu May 20 15:06:54 BST 2004  Richard Boulton <richard@tartarus.org>

	* Makefile.am: Add debian packaging files to distribution tarball.

Wed May 19 11:27:42 BST 2004  Olly Betts <olly@survex.com>

	* php4/util.i: Make sure that PHP bindings build a module which
	  exports get_module() so PHP is able to load it.

Thu May 13 17:57:50 BST 2004  Olly Betts <olly@survex.com>

	* java/native/WritableDatabase.cc,java/native/org_xapian_XapianJNI.h,
	  java/org/xapian/WritableDatabase.java,
	  java/org/xapian/XapianJNI.java: repalce -> replace.

Thu May 13 10:41:29 BST 2004  Olly Betts <olly@survex.com>

	* configure.in: Test phpize can actually be run, rather than just that
	  it's a readable file or directory.

Wed May 12 01:52:44 BST 2004  Richard Boulton <richard@tartarus.org>

	* configure.in: Revert "test -x" to "test -n", and change
	  previously extant "test -x" to "test -r": test -x isn't
	  portable.

Tue May 11 20:04:36 BST 2004  Richard Boulton <richard@tartarus.org>

	* configure.in: Use $PYTHON instead of python when running python
	  to determine and library and include paths and version number.
	  Also, change tests for non-zeroness of interpreter paths to tests
	  for existence and executability of interpreter paths: this is
	  relevant if configure is passed an interpreter path by the user
	  which doesn't exist (as my debian packaging makefile just did).

Tue May 11 18:06:06 BST 2004  Richard Boulton <richard@tartarus.org>

	* guile/Makefile.am,php4/Makefile.am,python/Makefile.am,
	  tcl8/Makefile.am: Add "-I/usr/include" to the swig line.  This is
	  needed when xapian is installed with a prefix of /usr, since
	  "xapian-config --cxxflags" assumes that it doesn't need to emit
	  -I/usr/include in this situation (presumably on the basis that
	  any sane C compiler will already have that on its path).

Tue Apr 20 03:20:22 BST 2004  Olly Betts <olly@survex.com>

	* configure.in: Generate Makefiles for new directories under java/.

Tue Apr 20 02:27:07 BST 2004  Olly Betts <olly@survex.com>

	* NEWS: Final update for 0.8.0.

Tue Apr 20 02:22:18 BST 2004  Olly Betts <olly@survex.com>

	* java/org/xapian/Makefile.am,java/org/xapian/errors/: Added missing
	  sources for error classes.
	* java/org/xapian/examples/: Added examples of a simple indexer and
	  searcher in java.
	* java/README: Added details of how to run the Java examples.

Tue Apr 20 02:14:58 BST 2004  Olly Betts <olly@survex.com>

	* python/.cvsignore: Ignore generated file xapian_wrap.h.

Mon Apr 19 19:25:05 BST 2004  Olly Betts <olly@survex.com>

	* NEWS,README,configure.in: Version 0.8.0.

Mon Apr 05 22:23:31 BST 2004  Olly Betts <olly@survex.com>

	* README: Added details on adding support for recent languages.

Sun Apr 04 18:53:58 BST 2004  Olly Betts <olly@survex.com>

	* java/native/Document.cc,java/native/org_xapian_XapianJNI.h,
	  java/org/xapian/: Applied update from Eric B. Ridge.  Added
	  support for Xapian::Document::add_term() - new name for
	  add_term_nopos().

Sun Apr 04 18:53:00 BST 2004  Olly Betts <olly@survex.com>

	* xapian.i: Added add_term() - new name for add_term_nopos().

Wed Mar 03 19:04:04 GMT 2004  Olly Betts <olly@survex.com>

	* configure.in: Only enable python bindings for python 1.5 or later
	  (since that's what SWIG supports).

Sun Feb 22 04:28:18 GMT 2004  Olly Betts <olly@survex.com>

	* configure.in: Changed --disable-LANGUAGE to be --without-LANGUAGE
	  (fits better with autoconf's intended usages).

Sun Feb 22 02:41:20 GMT 2004  Olly Betts <olly@survex.com>

	* configure.in: Added --disable-LANGUAGE options to allow bindings to
	  be forcibly disabled.  Added (disabled) checks for Guile, as it
	  looks like support will be resurrected soon.

Tue Jan 13 01:50:27 GMT 2004  Olly Betts <olly@survex.com>

	* configure.in: Check PHP version is at least 4.0.
	* configure.in,tcl8/Makefile.am: Look for tclsh and enable building
	  tcl bindings if it's at least version 8.0; get lib and include
	  directories from tclsh and use those for building the bindings.

Mon Jan 12 17:52:39 GMT 2004  Olly Betts <olly@survex.com>

	* python/docs/bindings.html: OMMSET_* and OMESET_* -> MSET_* and
	  ESET_* (in line with recent change to python/util.i).  Also
	  corrected a few typos.

Mon Jan 12 17:49:30 GMT 2004  Olly Betts <olly@survex.com>

	* configure.in: Check for jni.h before enabling java bindings.

Tue Jan  6 10:15:00 2004  James Aylett  <james@tartarus.org>

	* TCL bindings: get them to build (not built automatically)

Thu Jan  1 22:46:51 2004  James Aylett  <james@tartarus.org>

	* Python bindings: MSet provides a Python iterator
	  (new target language-specific interface file extra.i
	  included at end of xapian.i to accomodate this)

Thu Jan  1 22:45:26 2004  James Aylett  <james@tartarus.org>

	* python/util.i: OMMSET_* and OMESET_* -> MSET_* and ESET_*

Thu Jan  1 22:42:57 2004  James Aylett  <james@tartarus.org>

	* xapian.i: a couple of Xapian::Query constructors weren't being
	  wrapped, including one explicitly used in some of my Python
	  binding examples :-(

Sun Dec 28 16:06:50 2003  James Aylett  <james@tartarus.org>

	* Python bindings: enable directors for MatchDecider, to allow
	  subclassing in Python. Add documentation and an example.

	* Add a Python example equivalent to simpleexpand in xapian-examples

Mon Dec 08 02:12:09 GMT 2003  Olly Betts <olly@survex.com>

	* Makefile.am,configure.in,java/: Initial check-in of Eric B. Ridge's
	  JNI bindings.  Needs more work.

Mon Dec 08 02:11:03 GMT 2003  Olly Betts <olly@survex.com>

	* python/docs/.cvsignore,python/docs/examples/.cvsignore: Ignore
	  Makefile too.

Sun Dec  7 13:11:56 BST 2003  James Aylett  <james@tartarus.org>

	* Added basic documentation, and two examples, for Python bindings

Thu Oct 02 17:34:47 BST 2003  Olly Betts <olly@survex.com>

	* configure.in: Version 0.7.4.

Tue Sep  2 17:01:08 BST 2003  James Aylett  <james@tartarus.org>

	* xapian.i: using namespace std in SWIG parsed segment to sort out
	  typemaps.

Fri Aug 08 21:36:20 BST 2003  Olly Betts <olly@survex.com>

	* configure.in: Version 0.7.3.

Fri Aug  8 12:26:45 BST 2003  Richard Boulton <richard@tartarus.org>

	* configure.in: Check for absence of SWIG, and report error more
	  nicely if so.

Sat Jul 26 21:04:06 BST 2003  Olly Betts <olly@survex.com>

	* php4/Makefile.am: lib omqueryparser is now xapianqueryparser.
	* python/Makefile.am: XAPIAN_LIBS now includes -lxapianqueryparser.

Sat Jul 26 18:33:42 BST 2003  Olly Betts <olly@survex.com>

	* configure.in: Converted to use XO_LIB_XAPIAN.

Fri Jul 25 11:02:43 2003  James Aylett  <james@tartarus.org>

	* {tcl8,guile}/util.i: convert typemaps to SWIG 1.3 style

Fri Jul 25 11:01:15 2003  James Aylett  <james@tartarus.org>

	* python/Makefile.am: add -lomqueryparser to complete link

Tue Jul 15 13:50:25 2003  James Aylett  <james@tartarus.org>

	* [langdir]/Makefile.am: use -I$(srcdir) not -I. so VPATH
	  builds work again

Fri Jul 11 15:10:27 BST 2003  Olly Betts <olly@survex.com>

	* configure.in: Version 0.7.2.

Fri Jul 11 14:53:35 BST 2003  Olly Betts <olly@survex.com>

	* Makefile.am,configure.in: Include code for partly done guile and
	  tcl8 bindings in the distribution - it may inspire somebody to
	  finish them off.
	* guile/Makefile.am,tcl8/Makefile.am: Removed -shadow from swig
	  invocation.
	* php4/Makefile.am: Fixed not to build subproject every time.

Fri Jul 11 14:42:42 BST 2003  Olly Betts <olly@survex.com>

	* configure.in: Added check for location of Xapian installation.
	* guile/Makefile.am,php4/Makefile.am,python/Makefile.am,
	  tcl8/Makefile.am: Added -I for Xapian.

Fri Jul 11 14:27:04 BST 2003  Olly Betts <olly@survex.com>

	* Moved bindings out of xapian-core into their own module.
