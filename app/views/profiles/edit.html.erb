<h1>Editing profile</h1>

<% form_for(@profile, :html => { :multipart => true }) do |f| %>
  <%= f.error_messages %>

	
	<%= f.hidden_field :user_id, :value => session[:user_id] %> 
			<%= f.hidden_field :delete_photo, :value => 0 %> 
	
			<table>
				<tr>
					<td width = "350" valign="top">	
			<p>
				<b>College</b>:<br>
				<%= f.select(:college_id, College::COLLEGES_LIST, :prompt => "Select...") %>
			</p>

			<p>
				<b>Birthdate</b>:<br>
				<%= f.date_select :birthdate, :start_year => (Date.today.year-35), :end_year => (Date.today.year), :order => [:month, :day, :year] %>
			</p>
			<p>
				<b>Graduation Year</b>:<br>
				<%= f.select(:grad_year, Profile::GRAD_YEARS, :prompt => "Select..." )%>
			</p>
			<p>
				<b>Phone Number</b>:<br>
				<%= f.text_field :phone, :size => 20 %>
			</p>
			<p>
				<b>Living Style</b>:<br>
				<%= f.text_area :living_style, :rows => 6, :cols => 40 %>
			</p>
			</td>
			<td valign="top">
			<p>
				<b>Bedtime</b>:<br>
				<%= f.text_field :bedtime, :size => 20 %>
			</p>
			<p>
				<b>Interests</b>:<br>
				<%= f.text_area :interests, :rows => 6, :cols => 40 %>
			</p>
			<p>
				<b>Smoker?<b><br>
				<%= f.check_box :smoker %>
			</p>
  <div>
    <%= f.label(:photo, 'Upload photo') %>
    <%= f.file_field(:photo) %>
  </div>


  <%- unless @profile.new_record? || !@profile.photo? -%>
    <div>
      <%= f.label(:delete_photo, 'Delete photo') %>
      <%= f.check_box(:delete_photo) %>
	  <% if @profile.photo_file_name.nil? %>
	  <%= image_tag '/questionMark.png', :width => 300 %>
	  <% else %>
	  <%= image_tag(@profile.photo.url, :alt => 'Photo', :title => 'Current photo', :width=> 300) %>
	  <% end %>
    </div>
  <%- end -%>

  	<p>
    	<%= f.submit "Update" %><br><br>
		<%= link_to 'Back', profiles_path %>
  	</p>
<% end %>
</td>
</tr>
</table

